{"content":"<header class=\"shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20\"><div class=\"flex justify-between\"><a href=\"/en-US/\" class=\"justify-self-start self-center m-3 ml-5 text-md sm:text-2xl\">Perseus</a><div class=\"md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 \"><div class=\"tham-box\"><div class=\"dark:bg-white tham-inner\"></div></div></div><nav class=\"hidden md:flex\"><ul class=\"mr-5 flex\"><li class=\"m-3 p-1\"><a class=\"px-2\" href=\"/en-US/docs\">Docs</a></li><li class=\"m-3 p-1\"><a href=\"/en-US/comparisons\" class=\"px-2\">Comparisons</a></li></ul></nav></div><nav class=\"md:hidden w-full text-center justify-center overflow-y-scroll hidden\" id=\"mobile_nav_menu\"><div class=\"mr-5 overflow-y-scroll\" style=\"max-height: 500px\"><ul><li class=\"m-3 p-1\"><a href=\"/en-US/docs\" class=\"px-2\">Docs</a></li><li class=\"m-3 p-1\"><a href=\"/en-US/comparisons\" class=\"px-2\">Comparisons</a></li></ul><hr/><div class=\"text-left p-3\"><!----><select class=\"p-1 rounded-sm dark:bg-navy\"><option value=\"next\">Next (unreleased)</option><option value=\"0.3.x\" selected=\"\">v⁨0.3.x⁩ (beta)</option><option value=\"0.2.x\">v⁨0.2.x⁩ (stable)</option><option value=\"0.1.x\">v⁨0.1.x⁩ (outdated)</option></select><div class=\"docs-links-markdown\"><h1>Introduction</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/intro\">Introduction</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/what-is-perseus\">What is Perseus?</a></li>\n<li><a href=\"/en-US/docs/0.3.x/hello-world\">Hello World!</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/second-app\">Your Second App</a></li>\n</ul>\n<hr />\n<h1>Reference</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/define-app\"><code>define_app!</code></a></li>\n<li><a href=\"/en-US/docs/0.3.x/views\">Writing Views</a></li>\n<li><a href=\"/en-US/docs/0.3.x/debugging\">Debugging</a></li>\n<li><a href=\"/en-US/docs/0.3.x/templates/intro\">Templates and Routing</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/templates/metadata-modification\">Modifying the <code>&lt;head&gt;</code></a></li>\n<li><a href=\"/en-US/docs/0.3.x/templates/setting-headers\">Modifying HTTP Headers</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/error-pages\">Error Pages</a></li>\n<li><a href=\"/en-US/docs/0.3.x/static-content\">Static Content</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/intro\">Internationalization</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/i18n/defining\">Defining Translations</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/using\">Using Translations</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/translations-managers\">Translations Managers</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/other-engines\">Other Translation Engines</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/intro\">Rendering Strategies</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/strategies/build-state\">Build State</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/build-paths\">Build Paths</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/request-state\">Request State</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/revalidation\">Revalidation</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/incremental\">Incremental Generation</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/amalgamation\">State Amalgamation</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/cli\">CLI</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/ejecting\">Ejecting</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/testing/intro\">Testing</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/testing/checkpoints\">Checkpoints</a></li>\n<li><a href=\"/en-US/docs/0.3.x/testing/fantoccini-basics\">Fantoccini Basics</a></li>\n<li><a href=\"/en-US/docs/0.3.x/testing/manual\">Manual Testing</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/styling\">Styling</a></li>\n<li><a href=\"/en-US/docs/0.3.x/stores\">Stores</a></li>\n<li><a href=\"/en-US/docs/0.3.x/exporting\">Static Exporting</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/intro\">Deploying</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/deploying/serverful\">Server Deployment</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/serverless\">Serverless Deployment</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/size\">Optimizing Code Size</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/updating\">Migrating from v0.2.x</a></li>\n</ul>\n<hr />\n<h1>Advanced</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/advanced/intro\">Under the Hood</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/advanced/arch\">Architecture</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/initial-loads\">Initial Loads</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/subsequent-loads\">Subsequent Loads</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/routing\">Routing</a></li>\n</ul>\n</li>\n</ul>\n</div></div></div></nav></header><div class=\"mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex\"><div class=\"flex w-full\"><div class=\"h-full hidden md:block max-w-xs w-full border-r\"><div class=\"mr-5\"><div class=\"text-left text-black dark:text-white p-3\"><aside><!----><select class=\"p-1 rounded-sm dark:bg-navy\"><option value=\"next\">Next (unreleased)</option><option value=\"0.3.x\" selected=\"\">v⁨0.3.x⁩ (beta)</option><option value=\"0.2.x\">v⁨0.2.x⁩ (stable)</option><option value=\"0.1.x\">v⁨0.1.x⁩ (outdated)</option></select><div class=\"docs-links-markdown\"><h1>Introduction</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/intro\">Introduction</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/what-is-perseus\">What is Perseus?</a></li>\n<li><a href=\"/en-US/docs/0.3.x/hello-world\">Hello World!</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/second-app\">Your Second App</a></li>\n</ul>\n<hr />\n<h1>Reference</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/define-app\"><code>define_app!</code></a></li>\n<li><a href=\"/en-US/docs/0.3.x/views\">Writing Views</a></li>\n<li><a href=\"/en-US/docs/0.3.x/debugging\">Debugging</a></li>\n<li><a href=\"/en-US/docs/0.3.x/templates/intro\">Templates and Routing</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/templates/metadata-modification\">Modifying the <code>&lt;head&gt;</code></a></li>\n<li><a href=\"/en-US/docs/0.3.x/templates/setting-headers\">Modifying HTTP Headers</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/error-pages\">Error Pages</a></li>\n<li><a href=\"/en-US/docs/0.3.x/static-content\">Static Content</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/intro\">Internationalization</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/i18n/defining\">Defining Translations</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/using\">Using Translations</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/translations-managers\">Translations Managers</a></li>\n<li><a href=\"/en-US/docs/0.3.x/i18n/other-engines\">Other Translation Engines</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/intro\">Rendering Strategies</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/strategies/build-state\">Build State</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/build-paths\">Build Paths</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/request-state\">Request State</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/revalidation\">Revalidation</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/incremental\">Incremental Generation</a></li>\n<li><a href=\"/en-US/docs/0.3.x/strategies/amalgamation\">State Amalgamation</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/cli\">CLI</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/ejecting\">Ejecting</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/testing/intro\">Testing</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/testing/checkpoints\">Checkpoints</a></li>\n<li><a href=\"/en-US/docs/0.3.x/testing/fantoccini-basics\">Fantoccini Basics</a></li>\n<li><a href=\"/en-US/docs/0.3.x/testing/manual\">Manual Testing</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/styling\">Styling</a></li>\n<li><a href=\"/en-US/docs/0.3.x/stores\">Stores</a></li>\n<li><a href=\"/en-US/docs/0.3.x/exporting\">Static Exporting</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/intro\">Deploying</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/deploying/serverful\">Server Deployment</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/serverless\">Serverless Deployment</a></li>\n<li><a href=\"/en-US/docs/0.3.x/deploying/size\">Optimizing Code Size</a></li>\n</ul>\n</li>\n<li><a href=\"/en-US/docs/0.3.x/updating\">Migrating from v0.2.x</a></li>\n</ul>\n<hr />\n<h1>Advanced</h1>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/advanced/intro\">Under the Hood</a>\n<ul>\n<li><a href=\"/en-US/docs/0.3.x/advanced/arch\">Architecture</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/initial-loads\">Initial Loads</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/subsequent-loads\">Subsequent Loads</a></li>\n<li><a href=\"/en-US/docs/0.3.x/advanced/routing\">Routing</a></li>\n</ul>\n</li>\n</ul>\n</div></aside></div></div></div><div class=\"h-full flex w-full\"><div class=\"px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl\"><div class=\"ring-4 ring-yellow-300 p-4 rounded-lg mt-1\"><div class=\"flex flex-col 2xs:flex-row dark:text-white\"><span class=\"self-center mr-2\" style=\"fill: #fcd34d;\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"auto\" viewBox=\"0 0 24 24\" width=\"2.25rem\" fill=\"\\#000000\"><path d=\"M12 5.99L19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z\"/></svg></span><p>This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\"⁨/en-US/docs/0.2.x/intro⁩\" class=\"underline\">here</a>.</p></div></div><main class=\"text-black dark:text-white\"><div class=\"markdown\"><h1>Templates</h1>\n<p>At the core of Perseus is its template system, which is how you'll define every page you'll ever build! However, it's important to understand a few of the nuances of this system so that you can build the best apps possible.</p>\n<h2>Templates vs Pages</h2>\n<p>In Perseus, the idea of a <em>template</em> is very different to the idea of a <em>page</em>.</p>\n<p>A <em>page</em> corresponds to a URL in your app, like the about page, the landing page, or an individual blog post.</p>\n<p>A <em>template</em> can generate <em>many</em> pages or only one by using <em>rendering strategies</em>.</p>\n<p>The best way to illustrate this is with the example of a simple blog, with each page stored in something like a CMS (content management system). This app would only need two templates (in addition to a landing page, an about page, etc.): <code>blog</code> and <code>post</code>. For simplicity, we'll put the list of all blog posts in <code>blog</code>, and then each post will have its own URL under <code>post</code>.</p>\n<p>The <code>blog</code> template will be rendered to <code>/blog</code>, and will only use the <em>build state</em> strategy, fetching a list of all our posts from the CMS every time the blog is rebuilt (or you could use revalidation and incremental generation to mean you never have to rebuild at all, but that's beyond the scope of this section). This template only generates one page, providing it the properties of the list of blog posts. So, in this case, the <code>blog</code> template has generated the <code>/blog</code> page.</p>\n<p>The <code>post</code> template is more complex, and it will generate <em>many</em> pages, one for each blog post. This would probably use the <em>build paths</em> strategy, which lets you fetch a list of blog posts from the CMS at build-time and invoke <em>build state</em> for each of them, which would then get their content, metadata, etc. Thus, the <code>post</code> template generates many pages.</p>\n<p>Hopefully that explains the difference between a template and a post. This is a somewhat unintuitive part of Perseus, but it should be clear in the documentation what the difference is. Note however that old versions of the examples in the repository used these terms interchangeably, when they used to be the same. If you see any remaining ambiguity in the docs, please <a href=\"https://github.com/arctic-hen7/perseus/issues/new/choose\">open an issue</a>!</p>\n<h2>Defining a Template</h2>\n<p>You can define a template like so (taken from <a href=\"https://github.com/arctic-hen7/perseus/blob/main/examples/basic/src/templates/about.rs\">the basic example</a>'s about page):</p>\n<pre><code class=\"language-rust\">use perseus::Template;\nuse std::rc::Rc;\nuse sycamore::prelude::{component, template, GenericNode, Template as SycamoreTemplate};\n\n#[component(AboutPage&lt;G&gt;)]\npub fn about_page() -&gt; SycamoreTemplate&lt;G&gt; {\n    template! {\n        p { &quot;About.&quot; }\n    }\n}\n\npub fn get_template&lt;G: GenericNode&gt;() -&gt; Template&lt;G&gt; {\n    Template::new(&quot;about&quot;)\n        .template(Rc::new(|_| {\n            template! {\n                AboutPage()\n            }\n        }))\n        .head(Rc::new(|_| {\n            template! {\n                title { &quot;About Page | Perseus Example – Basic&quot; }\n            }\n        }))\n}\n\n</code></pre>\n<p>It's seen as convention in Perseus to define each template in its own file, which should expose a <code>get_template()</code> file. Note that this is just convention, and as long as you get an instance of <code>Template&lt;G&gt;</code> to the <code>define_app!</code> macro, it really doesn't matter. That said, using community conventions makes your code easier to understand and debug for others.</p>\n<p>There's a list of all the methods available on a template <a href=\"https://docs.rs/perseus/0.2/perseus/template/struct.Template.html#implementations\">here</a>, along with explanations of what they all do. Technically, you could just define a template without calling any of these, but that would just render a blank page, which would probably be useless.</p>\n<h2>Routing</h2>\n<p>Perseus' routing system is basically invisible, there's no router that you need to work with, nor any place for you to define explicit routes. Instead, Perseus automatically infers the routes for all your templates and the pages they generate from their names!</p>\n<p>The general rule is this: a template called <code>X</code> will be rendered at <code>/X</code>. Simple. What's more difficult to understand is what we call <em>template path domains</em>, which is the system that makes route inference possible. <strong>A template can only ever generate pages within the scope of its root path.</strong> Its root path is its name. In the example of a template called <code>X</code>, it can render <code>/X/Y</code>, <code>/X/Y/Z</code>, etc., but it can <em>never</em> render <code>/A</code>.</p>\n<p>To generate paths within a template's domain, you can use the <em>build paths</em> and <em>incremental generation</em> strategies (more on those later). Both of these support dynamic parameters (which might be denoted in other languages as <code>/post/&lt;title&gt;/info</code> or the like).</p>\n<h3>Dynamic Parameters Above the Domain</h3>\n<p>One niche case is defining a route like this: <code>/&lt;locale&gt;/about</code>. In this case, the <code>about</code> template is rendered underneath a dynamic parameter. This is currently impossible in Perseus, but the most common reason to need it, internationalization (making your app work in many language), is support out-of-the-box with Perseus.</p>\n<h3>Different Templates in the Same Domain</h3>\n<p>It's perfectly possible in Perseus to define one template for <code>/post</code> (and its children) and a different one for <code>/post/new</code>. In fact, this is exactly what <a href=\"https://github.com/arctic-hen7/perseus/tree/main/examples/showcase\">the showcase example</a> does, and you can check it out for inspiration. This is based on a simple idea: <strong>more specific templates win</strong> the routing contest.</p>\n<p>There is one use-case though that requires a bit more fiddling: having a different template for the root path. A very common use-case for this would be having one template for <code>/posts</code>'s children (one URl for each blog post) and a different template for <code>/posts</code> itself that lists all available posts. Currently, the only way to do this is to define a property on the <code>posts</code> template that will be <code>true</code> if you're rendering for that root, and then to conditionally render the list of posts. Otherwise, you would render the given post content. This does require a lot of <code>Option&lt;T&gt;</code>s, but they could be safely unwrapped (data passing in Perseus is logical and safe).</p>\n<h2>Checking Render Context</h2>\n<p>It's often necessary to make sure you're only running some logic on the client-side, particularly anything to do with <code>web_sys</code>, which will <code>panic!</code> if used on the server. Because Perseus renders your templates in both environments, you'll need to explicitly check if you want to do something only on the client (like get an authentication token from a cookie). This can be done trivially with the <code>is_server!</code> macro, which does exactly what it says on the tin. Here's an example from <a href=\"https://github.com/arctic-hen7/perseus/blob/main/examples/i18n/src/templates/about.rs\">here</a>:</p>\n<pre><code class=\"language-rust\">use perseus::{is_server, t, Template};\nuse std::rc::Rc;\nuse sycamore::prelude::{component, template, GenericNode, Template as SycamoreTemplate};\n\n#[component(AboutPage&lt;G&gt;)]\npub fn about_page() -&gt; SycamoreTemplate&lt;G&gt; {\n    template! {\n        p { (t!(&quot;about&quot;)) }\n        p {\n            (\n                if is_server!() {\n                    &quot;This is running on the server.&quot;\n                } else {\n                    &quot;This is running on the client.&quot;\n                }\n            )\n        }\n    }\n}\n\npub fn get_template&lt;G: GenericNode&gt;() -&gt; Template&lt;G&gt; {\n    Template::new(&quot;about&quot;).template(Rc::new(|_| {\n        template! {\n            AboutPage()\n        }\n    }))\n}\n\n</code></pre>\n<p>This is a very contrived example, but what you should note if you try this is the flash from <code>server</code> to <code>client</code> (when you go to the page from the URL bar, not when you go in from the link on the index page), because the page is pre-rendered on the server and then hydrated on the client. This is an important principle of Perseus, and you should be aware of this potential flashing (easily solved by a less contrived example) when your users <a href=\"../advanced/initial-loads\">initially load</a> a page.</p>\n<p>One important thing to note with this macro is that it will only work in a <em>reactive scope</em> because it uses Sycamore's <a href=\"https://sycamore-rs.netlify.app/docs/advanced/contexts\">context system</a>. In other words, you can only use it inside a <code>template!</code>, <code>create_effect</code>, or the like.</p>\n</div></main></div></div></div></div><footer class=\"w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep\"><p class=\"dark:text-white mx-5 text-center\"><span>© <a href=\"https://github.com/arctic-hen7\" class=\"underline\">arctic-hen7</a> ⁨2021⁩, see license <a href=\"https://github.com/arctic-hen7/perseus/blob/main/LICENSE\" class=\"underline\">here</a>.</span></p></footer><script src=\"/.perseus/static/prism.js\" defer=\"\"></script><script>window.Prism.highlightAll();</script>","state":"{\"title\":\"Templates\",\"content\":\"<h1>Templates</h1>\\n<p>At the core of Perseus is its template system, which is how you'll define every page you'll ever build! However, it's important to understand a few of the nuances of this system so that you can build the best apps possible.</p>\\n<h2>Templates vs Pages</h2>\\n<p>In Perseus, the idea of a <em>template</em> is very different to the idea of a <em>page</em>.</p>\\n<p>A <em>page</em> corresponds to a URL in your app, like the about page, the landing page, or an individual blog post.</p>\\n<p>A <em>template</em> can generate <em>many</em> pages or only one by using <em>rendering strategies</em>.</p>\\n<p>The best way to illustrate this is with the example of a simple blog, with each page stored in something like a CMS (content management system). This app would only need two templates (in addition to a landing page, an about page, etc.): <code>blog</code> and <code>post</code>. For simplicity, we'll put the list of all blog posts in <code>blog</code>, and then each post will have its own URL under <code>post</code>.</p>\\n<p>The <code>blog</code> template will be rendered to <code>/blog</code>, and will only use the <em>build state</em> strategy, fetching a list of all our posts from the CMS every time the blog is rebuilt (or you could use revalidation and incremental generation to mean you never have to rebuild at all, but that's beyond the scope of this section). This template only generates one page, providing it the properties of the list of blog posts. So, in this case, the <code>blog</code> template has generated the <code>/blog</code> page.</p>\\n<p>The <code>post</code> template is more complex, and it will generate <em>many</em> pages, one for each blog post. This would probably use the <em>build paths</em> strategy, which lets you fetch a list of blog posts from the CMS at build-time and invoke <em>build state</em> for each of them, which would then get their content, metadata, etc. Thus, the <code>post</code> template generates many pages.</p>\\n<p>Hopefully that explains the difference between a template and a post. This is a somewhat unintuitive part of Perseus, but it should be clear in the documentation what the difference is. Note however that old versions of the examples in the repository used these terms interchangeably, when they used to be the same. If you see any remaining ambiguity in the docs, please <a href=\\\"https://github.com/arctic-hen7/perseus/issues/new/choose\\\">open an issue</a>!</p>\\n<h2>Defining a Template</h2>\\n<p>You can define a template like so (taken from <a href=\\\"https://github.com/arctic-hen7/perseus/blob/main/examples/basic/src/templates/about.rs\\\">the basic example</a>'s about page):</p>\\n<pre><code class=\\\"language-rust\\\">use perseus::Template;\\nuse std::rc::Rc;\\nuse sycamore::prelude::{component, template, GenericNode, Template as SycamoreTemplate};\\n\\n#[component(AboutPage&lt;G&gt;)]\\npub fn about_page() -&gt; SycamoreTemplate&lt;G&gt; {\\n    template! {\\n        p { &quot;About.&quot; }\\n    }\\n}\\n\\npub fn get_template&lt;G: GenericNode&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;about&quot;)\\n        .template(Rc::new(|_| {\\n            template! {\\n                AboutPage()\\n            }\\n        }))\\n        .head(Rc::new(|_| {\\n            template! {\\n                title { &quot;About Page | Perseus Example – Basic&quot; }\\n            }\\n        }))\\n}\\n\\n</code></pre>\\n<p>It's seen as convention in Perseus to define each template in its own file, which should expose a <code>get_template()</code> file. Note that this is just convention, and as long as you get an instance of <code>Template&lt;G&gt;</code> to the <code>define_app!</code> macro, it really doesn't matter. That said, using community conventions makes your code easier to understand and debug for others.</p>\\n<p>There's a list of all the methods available on a template <a href=\\\"https://docs.rs/perseus/0.2/perseus/template/struct.Template.html#implementations\\\">here</a>, along with explanations of what they all do. Technically, you could just define a template without calling any of these, but that would just render a blank page, which would probably be useless.</p>\\n<h2>Routing</h2>\\n<p>Perseus' routing system is basically invisible, there's no router that you need to work with, nor any place for you to define explicit routes. Instead, Perseus automatically infers the routes for all your templates and the pages they generate from their names!</p>\\n<p>The general rule is this: a template called <code>X</code> will be rendered at <code>/X</code>. Simple. What's more difficult to understand is what we call <em>template path domains</em>, which is the system that makes route inference possible. <strong>A template can only ever generate pages within the scope of its root path.</strong> Its root path is its name. In the example of a template called <code>X</code>, it can render <code>/X/Y</code>, <code>/X/Y/Z</code>, etc., but it can <em>never</em> render <code>/A</code>.</p>\\n<p>To generate paths within a template's domain, you can use the <em>build paths</em> and <em>incremental generation</em> strategies (more on those later). Both of these support dynamic parameters (which might be denoted in other languages as <code>/post/&lt;title&gt;/info</code> or the like).</p>\\n<h3>Dynamic Parameters Above the Domain</h3>\\n<p>One niche case is defining a route like this: <code>/&lt;locale&gt;/about</code>. In this case, the <code>about</code> template is rendered underneath a dynamic parameter. This is currently impossible in Perseus, but the most common reason to need it, internationalization (making your app work in many language), is support out-of-the-box with Perseus.</p>\\n<h3>Different Templates in the Same Domain</h3>\\n<p>It's perfectly possible in Perseus to define one template for <code>/post</code> (and its children) and a different one for <code>/post/new</code>. In fact, this is exactly what <a href=\\\"https://github.com/arctic-hen7/perseus/tree/main/examples/showcase\\\">the showcase example</a> does, and you can check it out for inspiration. This is based on a simple idea: <strong>more specific templates win</strong> the routing contest.</p>\\n<p>There is one use-case though that requires a bit more fiddling: having a different template for the root path. A very common use-case for this would be having one template for <code>/posts</code>'s children (one URl for each blog post) and a different template for <code>/posts</code> itself that lists all available posts. Currently, the only way to do this is to define a property on the <code>posts</code> template that will be <code>true</code> if you're rendering for that root, and then to conditionally render the list of posts. Otherwise, you would render the given post content. This does require a lot of <code>Option&lt;T&gt;</code>s, but they could be safely unwrapped (data passing in Perseus is logical and safe).</p>\\n<h2>Checking Render Context</h2>\\n<p>It's often necessary to make sure you're only running some logic on the client-side, particularly anything to do with <code>web_sys</code>, which will <code>panic!</code> if used on the server. Because Perseus renders your templates in both environments, you'll need to explicitly check if you want to do something only on the client (like get an authentication token from a cookie). This can be done trivially with the <code>is_server!</code> macro, which does exactly what it says on the tin. Here's an example from <a href=\\\"https://github.com/arctic-hen7/perseus/blob/main/examples/i18n/src/templates/about.rs\\\">here</a>:</p>\\n<pre><code class=\\\"language-rust\\\">use perseus::{is_server, t, Template};\\nuse std::rc::Rc;\\nuse sycamore::prelude::{component, template, GenericNode, Template as SycamoreTemplate};\\n\\n#[component(AboutPage&lt;G&gt;)]\\npub fn about_page() -&gt; SycamoreTemplate&lt;G&gt; {\\n    template! {\\n        p { (t!(&quot;about&quot;)) }\\n        p {\\n            (\\n                if is_server!() {\\n                    &quot;This is running on the server.&quot;\\n                } else {\\n                    &quot;This is running on the client.&quot;\\n                }\\n            )\\n        }\\n    }\\n}\\n\\npub fn get_template&lt;G: GenericNode&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;about&quot;).template(Rc::new(|_| {\\n        template! {\\n            AboutPage()\\n        }\\n    }))\\n}\\n\\n</code></pre>\\n<p>This is a very contrived example, but what you should note if you try this is the flash from <code>server</code> to <code>client</code> (when you go to the page from the URL bar, not when you go in from the link on the index page), because the page is pre-rendered on the server and then hydrated on the client. This is an important principle of Perseus, and you should be aware of this potential flashing (easily solved by a less contrived example) when your users <a href=\\\"../advanced/initial-loads\\\">initially load</a> a page.</p>\\n<p>One important thing to note with this macro is that it will only work in a <em>reactive scope</em> because it uses Sycamore's <a href=\\\"https://sycamore-rs.netlify.app/docs/advanced/contexts\\\">context system</a>. In other words, you can only use it inside a <code>template!</code>, <code>create_effect</code>, or the like.</p>\\n\",\"sidebar_content\":\"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/intro\\\">Introduction</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/what-is-perseus\\\">What is Perseus?</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/hello-world\\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/second-app\\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/define-app\\\"><code>define_app!</code></a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/views\\\">Writing Views</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/debugging\\\">Debugging</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/templates/intro\\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/templates/metadata-modification\\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/templates/setting-headers\\\">Modifying HTTP Headers</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/error-pages\\\">Error Pages</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/static-content\\\">Static Content</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/i18n/intro\\\">Internationalization</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/i18n/defining\\\">Defining Translations</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/i18n/using\\\">Using Translations</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/i18n/translations-managers\\\">Translations Managers</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/i18n/other-engines\\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/intro\\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/build-state\\\">Build State</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/build-paths\\\">Build Paths</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/request-state\\\">Request State</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/revalidation\\\">Revalidation</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/incremental\\\">Incremental Generation</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/strategies/amalgamation\\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/cli\\\">CLI</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/ejecting\\\">Ejecting</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/testing/intro\\\">Testing</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/testing/checkpoints\\\">Checkpoints</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/testing/fantoccini-basics\\\">Fantoccini Basics</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/testing/manual\\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/styling\\\">Styling</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/stores\\\">Stores</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/exporting\\\">Static Exporting</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/deploying/intro\\\">Deploying</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/deploying/serverful\\\">Server Deployment</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/deploying/serverless\\\">Serverless Deployment</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/deploying/size\\\">Optimizing Code Size</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"/en-US/docs/0.3.x/updating\\\">Migrating from v0.2.x</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/advanced/intro\\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\\"/en-US/docs/0.3.x/advanced/arch\\\">Architecture</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/advanced/initial-loads\\\">Initial Loads</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/advanced/subsequent-loads\\\">Subsequent Loads</a></li>\\n<li><a href=\\\"/en-US/docs/0.3.x/advanced/routing\\\">Routing</a></li>\\n</ul>\\n</li>\\n</ul>\\n\",\"status\":{\"Beta\":\"0.2.x\"},\"manifest\":{\"stable\":\"0.2.x\",\"outdated\":[\"0.1.x\"],\"beta\":[\"0.3.x\"]},\"current_version\":\"0.3.x\"}","head":"<title>Templates | Perseus Docs</title><link href=\"/.perseus/static/styles/markdown.css\" rel=\"stylesheet\"/><link rel=\"stylesheet\" href=\"/.perseus/static/styles/docs_links_markdown.css\"/><link rel=\"stylesheet\" href=\"/.perseus/static/prism.css\"/>"}