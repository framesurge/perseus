{"content":"<header class=\"shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20\"><div class=\"flex justify-between\"><a class=\"justify-self-start self-center m-3 ml-5 text-md sm:text-2xl\" href=\"en-US/\">Perseus</a><div class=\"md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 \"><div class=\"tham-box\"><div class=\"dark:bg-white tham-inner\"></div></div></div><nav class=\"hidden md:flex\"><ul class=\"mr-5 flex\"><li class=\"m-3 p-1\"><a class=\"px-2\" href=\"en-US/docs\">Docs</a></li><li class=\"m-3 p-1\"><a href=\"en-US/comparisons\" class=\"px-2\">Comparisons</a></li></ul></nav></div><nav class=\"md:hidden w-full text-center justify-center overflow-y-scroll hidden\" id=\"mobile_nav_menu\"><div style=\"max-height: 500px\" class=\"mr-5 overflow-y-scroll\"><ul><li class=\"m-3 p-1\"><a class=\"px-2\" href=\"en-US/docs\">Docs</a></li><li class=\"m-3 p-1\"><a class=\"px-2\" href=\"en-US/comparisons\">Comparisons</a></li></ul><hr/><div class=\"text-left p-3\"><!----><select class=\"p-1 rounded-sm dark:bg-navy\"><option value=\"next\">Next (unreleased)</option><option value=\"0.3.x\">v⁨0.3.x⁩ (beta)</option><option value=\"0.2.x\">v⁨0.2.x⁩ (stable)</option><option selected=\"\" value=\"0.1.x\">v⁨0.1.x⁩ (outdated)</option></select><div class=\"docs-links-markdown\"><ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\">Introduction</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\">Setup</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\">Architecture</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\">Building Your First App</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\">Installation and Setup</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\">Writing Your First Template</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\">Setting up the App Itself</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\">CLI</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\">Templates</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\">Routing</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\">Error Pages</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\">Rendering Strategies</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\">Build Paths</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\">Build State</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\">Request State</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\">Revalidation</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\">Incremental generation</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\">Building</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\">Serving</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\">Actix Web Integration</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\">Config Managers</a></li>\n</ul>\n</div></div></div></nav></header><div class=\"mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex\"><div class=\"flex w-full\"><div class=\"h-full hidden md:block max-w-xs w-full border-r\"><div class=\"mr-5\"><div class=\"text-left text-black dark:text-white p-3\"><aside><!----><select class=\"p-1 rounded-sm dark:bg-navy\"><option value=\"next\">Next (unreleased)</option><option value=\"0.3.x\">v⁨0.3.x⁩ (beta)</option><option value=\"0.2.x\">v⁨0.2.x⁩ (stable)</option><option value=\"0.1.x\" selected=\"\">v⁨0.1.x⁩ (outdated)</option></select><div class=\"docs-links-markdown\"><ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\">Introduction</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\">Setup</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\">Architecture</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\">Building Your First App</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\">Installation and Setup</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\">Writing Your First Template</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\">Setting up the App Itself</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\">CLI</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\">Templates</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\">Routing</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\">Error Pages</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\">Rendering Strategies</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\">Build Paths</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\">Build State</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\">Request State</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\">Revalidation</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\">Incremental generation</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\">Building</a></li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\">Serving</a>\n<ul>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\">Actix Web Integration</a></li>\n</ul>\n</li>\n<li><a href=\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\">Config Managers</a></li>\n</ul>\n</div></aside></div></div></div><div class=\"h-full flex w-full\"><div class=\"px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl\"><div class=\"ring-4 ring-red-400 p-4 rounded-lg mt-1\"><div class=\"flex flex-col 2xs:flex-row dark:text-white\"><span style=\"fill: #f87171;\" class=\"self-center mr-2\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"auto\" viewBox=\"0 0 24 24\" width=\"2.25rem\" fill=\"\\#000000\"><path d=\"M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z\"/></svg></span><p>This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\"en-US/docs/0.2.x/intro\" class=\"underline\">here</a>.</p></div></div><main class=\"text-black dark:text-white\"><div class=\"markdown\"><h1>Config Managers</h1>\n<p>As you may have noticed, Perseus generates a considerable volume of static files to speed up serving your app and to cache various data. Storing these is trivial in development, they can just be put in a <code>dist</code> folder or the like. However, when in production, we don't always have access to such luxuries as a stateful filesystem, and we may need to access files from elsewhere, like a database or a CDN.</p>\n<h2>Default</h2>\n<p>In development, you'll still need to specify a config manager, which allows you to test out your production config manager even in local development! The easiest one to use for typical development though is the inbuilt <code>FsConfigManager</code>.</p>\n<h2>Writing a Config Manager</h2>\n<p>Any custom config managers have to implement the <code>ConfigManager</code> trait, which only has two functions: <code>read</code> and <code>write</code>. Here's the trait definition:</p>\n<pre><code class=\"language-rust\">pub trait ConfigManager {\n    /// Reads data from the named asset.\n    async fn read(&amp;self, name: &amp;str) -&gt; Result&lt;String&gt;;\n    /// Writes data to the named asset. This will create a new asset if one doesn't exist already.\n    async fn write(&amp;self, name: &amp;str, content: &amp;str) -&gt; Result&lt;()&gt;;\n}\n</code></pre>\n<h3>Errors</h3>\n<p>It's easily possible for CDNs of filesystems to throw errors when we try to interact with them, and Perseus provides a custom set of errors with <a href=\"\"><code>error_chain!</code></a> to deal with this. Note that your implementation <em>must</em> use these, or it will not implement the trait and thus not be compatible with Perseus. The errors available to you are:</p>\n<ul>\n<li><code>NotFound</code>, takes a <code>String</code> asset name</li>\n<li><code>ReadFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\n<li><code>WriteFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\n</ul>\n<h2>Best Practices</h2>\n<p>Some storage solutions will be significantly faster in production than others, and a CDN is recommended over a database or the like. Generally speaking, go with something lightning-fast, or a local filesystem if you can. Unfortunately, Perseus must run its own logic to know what files to fetch, so direct communication between the app shell and the CDN is not possible, so speed of connection with your storage provider is essential.</p>\n<p>We're currently working on framework support on providers like Netlify so this process is fully seamless for you, but for now it will be very inconvenient. Hence, <strong>Perseus is presently not recommended for production use, but soon will be</strong>! Once integrations are up and running, the project has matured some more, and setup on platforms like Vercel is done, have at it!</p>\n</div></main></div></div></div></div><footer class=\"w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep\"><p class=\"dark:text-white mx-5 text-center\"><span>© <a href=\"https://github.com/arctic-hen7\" class=\"underline\">arctic-hen7</a> ⁨2021⁩, see license <a href=\"https://github.com/arctic-hen7/perseus/blob/main/LICENSE\" class=\"underline\">here</a>.</span></p></footer><script src=\".perseus/static/prism.js\" defer=\"\"></script><script>window.Prism.highlightAll();</script>","state":"{\"title\":\"Config Managers\",\"content\":\"<h1>Config Managers</h1>\\n<p>As you may have noticed, Perseus generates a considerable volume of static files to speed up serving your app and to cache various data. Storing these is trivial in development, they can just be put in a <code>dist</code> folder or the like. However, when in production, we don't always have access to such luxuries as a stateful filesystem, and we may need to access files from elsewhere, like a database or a CDN.</p>\\n<h2>Default</h2>\\n<p>In development, you'll still need to specify a config manager, which allows you to test out your production config manager even in local development! The easiest one to use for typical development though is the inbuilt <code>FsConfigManager</code>.</p>\\n<h2>Writing a Config Manager</h2>\\n<p>Any custom config managers have to implement the <code>ConfigManager</code> trait, which only has two functions: <code>read</code> and <code>write</code>. Here's the trait definition:</p>\\n<pre><code class=\\\"language-rust\\\">pub trait ConfigManager {\\n    /// Reads data from the named asset.\\n    async fn read(&amp;self, name: &amp;str) -&gt; Result&lt;String&gt;;\\n    /// Writes data to the named asset. This will create a new asset if one doesn't exist already.\\n    async fn write(&amp;self, name: &amp;str, content: &amp;str) -&gt; Result&lt;()&gt;;\\n}\\n</code></pre>\\n<h3>Errors</h3>\\n<p>It's easily possible for CDNs of filesystems to throw errors when we try to interact with them, and Perseus provides a custom set of errors with <a href=\\\"\\\"><code>error_chain!</code></a> to deal with this. Note that your implementation <em>must</em> use these, or it will not implement the trait and thus not be compatible with Perseus. The errors available to you are:</p>\\n<ul>\\n<li><code>NotFound</code>, takes a <code>String</code> asset name</li>\\n<li><code>ReadFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\\n<li><code>WriteFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\\n</ul>\\n<h2>Best Practices</h2>\\n<p>Some storage solutions will be significantly faster in production than others, and a CDN is recommended over a database or the like. Generally speaking, go with something lightning-fast, or a local filesystem if you can. Unfortunately, Perseus must run its own logic to know what files to fetch, so direct communication between the app shell and the CDN is not possible, so speed of connection with your storage provider is essential.</p>\\n<p>We're currently working on framework support on providers like Netlify so this process is fully seamless for you, but for now it will be very inconvenient. Hence, <strong>Perseus is presently not recommended for production use, but soon will be</strong>! Once integrations are up and running, the project has matured some more, and setup on platforms like Vercel is done, have at it!</p>\\n\",\"sidebar_content\":\"<ul>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\\\">Introduction</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\\\">Setup</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\\\">Architecture</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\\">Installation and Setup</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\\">Writing Your First Template</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\\\">CLI</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\\\">Templates</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\\\">Routing</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\\\">Error Pages</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\\\">Build Paths</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\\\">Build State</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\\\">Request State</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\\\">Revalidation</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\\\">Building</a></li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\\\">Serving</a>\\n<ul>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\\\">Config Managers</a></li>\\n</ul>\\n\",\"status\":\"Outdated\",\"manifest\":{\"stable\":\"0.2.x\",\"outdated\":[\"0.1.x\"],\"beta\":[\"0.3.x\"],\"history_map\":{\"0.3.x\":\"HEAD\",\"0.1.x\":\"v0.1.4\",\"0.2.x\":\"v0.2.3\"}},\"current_version\":\"0.1.x\"}","head":"<title>Config Managers | Perseus Docs</title><link rel=\"stylesheet\" href=\".perseus/static/styles/markdown.css\"/><link rel=\"stylesheet\" href=\".perseus/static/styles/docs_links_markdown.css\"/><link href=\".perseus/static/prism.css\" rel=\"stylesheet\"/>"}