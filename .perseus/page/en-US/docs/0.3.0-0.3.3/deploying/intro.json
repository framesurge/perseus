{"state":"{\"title\":\"Deploying\",\"content\":\"<h1>Deploying</h1>\\n<blockquote>\\n<p><strong>WARNING:</strong> although Perseus is technically ready for deployment, the system is not yet recommended for production! See <a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/what-is-perseus.md#how-stable-is-it\\\">here</a> for more details.</p>\\n</blockquote>\\n<p>Perseus is a complex system, but we aim to make deploying it as easy as possible. This section will describe a few different types of Perseus deployments, and how they can be managed.</p>\\n<h2>Release Mode</h2>\\n<p>The Perseus CLI supports the <code>--release</code> flag on the <code>build</code>, <code>serve</code>, and <code>export</code> commands. When you're preparing a production release of your app, be sure to use this flag!</p>\\n<h2><code>perseus deploy</code></h2>\\n<p>If you haven't <a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/ejecting\\\">ejected</a>, then you can prepare your app for deployment with a single command: <code>perseus deploy</code>. If you can use <a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/exporting\\\">static exporting</a>, then you should run <code>perseus deploy -e</code>, otherwise you should just use <code>perseus deploy</code>.</p>\\n<p>This will create a new directory <code>pkg/</code> for you (you can change that by specifying <code>--output</code>) which will contain everything you need to deploy your app. That directory is entirely self-contained, and can be copied to an appropriate hosting provider for production deployment!</p>\\n<p>Note that this command will run a number of optimizations in the background, including using the <code>--release</code> flag, but it won't try to aggressively minimize your Wasm code size. For tips on how to do that, see <a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/size\\\">here</a>.</p>\\n<h3>Static Exporting</h3>\\n<p>If you use <code>perseus deploy -e</code>, the contents of <code>pkg/</code> can be served by any file host that can handle the <a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/exporting#file-extensions\\\">slight hiccup</a> of file extensions. Locally, you can test this out with <a href=\\\"https://github.com/vercel/serve\\\"><code>serve</code></a>, a JavaScript package designed for this purpose.</p>\\n<h3>Fully-Fledged Server</h3>\\n<p>If you just use <code>perseus deploy</code>, the <code>pkg/</code> directory will contain a binary called <code>server</code> for you to run, which will serve your app on its own, without the need for any of the development infrastructure (e.g. the <code>.perseus/</code> directory). Running this used to require setting the <code>PERSEUS_STANDALONE</code> environment variable, though after <a href=\\\"https://github.com/arctic-hen7/perseus/issues/87\\\">this</a> that's no longer required.</p>\\n\",\"sidebar_content\":\"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/intro\\\">Introduction</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/what-is-perseus\\\">What is Perseus?</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/hello-world\\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/second-app\\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/define-app\\\"><code>define_app!</code></a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/views\\\">Writing Views</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/debugging\\\">Debugging</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/templates/intro\\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/templates/metadata-modification\\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/templates/setting-headers\\\">Modifying HTTP Headers</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/error-pages\\\">Error Pages</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/static-content\\\">Static Content</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/i18n/intro\\\">Internationalization</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/i18n/defining\\\">Defining Translations</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/i18n/using\\\">Using Translations</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/i18n/translations-managers\\\">Translations Managers</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/i18n/other-engines\\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/intro\\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/build-state\\\">Build State</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/build-paths\\\">Build Paths</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/request-state\\\">Request State</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/revalidation\\\">Revalidation</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/incremental\\\">Incremental Generation</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/strategies/amalgamation\\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/hydration\\\">Hydration</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/cli\\\">CLI</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/ejecting\\\">Ejecting</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/snooping\\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/testing/intro\\\">Testing</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/testing/checkpoints\\\">Checkpoints</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/testing/fantoccini-basics\\\">Fantoccini Basics</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/testing/manual\\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/styling\\\">Styling</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/server-communication\\\">Communicating with a Server</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/stores\\\">Stores</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/exporting\\\">Static Exporting</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/intro\\\">Plugins</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/functional\\\">Functional Actions</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/control\\\">Control Actions</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/using\\\">Using Plugins</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/tinker\\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/writing\\\">Writing Plugins</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/security\\\">Security Considerations</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/plugins/publishing\\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/intro\\\">Deploying</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/serverful\\\">Server Deployment</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/serverless\\\">Serverless Deployment</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/size\\\">Optimizing Code Size</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/relative-paths\\\">Relative Paths</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/deploying/docker\\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/updating\\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/pitfalls-and-bugs\\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/intro\\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/arch\\\">Architecture</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/initial-loads\\\">Initial Loads</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/subsequent-loads\\\">Subsequent Loads</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/routing\\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.3.0-0.3.3/advanced/define_app\\\"><code>define_app</code> in Detail</a></li>\\n</ul>\\n\",\"status\":\"Outdated\",\"manifest\":{\"0.1.x\":{\"state\":\"outdated\",\"git\":\"v0.1.4\",\"docs_rs\":\"0.1\"},\"0.2.x\":{\"state\":\"outdated\",\"git\":\"v0.2.3\",\"docs_rs\":\"0.2\"},\"0.3.0-0.3.3\":{\"state\":\"outdated\",\"git\":\"v0.3.3\",\"docs_rs\":\"0.3.3\"},\"0.4.x\":{\"state\":\"beta\",\"git\":\"HEAD\",\"docs_rs\":\"0.4.0-beta\"},\"0.3.4\":{\"state\":\"stable\",\"git\":\"v0.3.6\",\"docs_rs\":\"0.3\"}},\"current_version\":\"0.3.0-0.3.3\"}","head":"<title>Deploying | Perseus Docs</title><link rel=\"stylesheet\" href=\".perseus/static/styles/markdown.css\"/><link rel=\"stylesheet\" href=\".perseus/static/styles/docs_links_markdown.css\"/><link rel=\"stylesheet\" href=\".perseus/static/prism.css\"/>"}