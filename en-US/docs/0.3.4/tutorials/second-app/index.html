<!DOCTYPE html><html lang=en-US class=light><head><base href=https://framesurge.sh/perseus/><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=.perseus/static/tailwind.css><link rel=stylesheet href=.perseus/static/styles/style.css><script type=module>window.__PERSEUS_RENDER_CFG = `{"docs/next/faq":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/0.4.x/fundamentals/routing":"docs","docs/next/core-principles":"docs","docs/state/manual":"docs","docs/0.4.x/intro":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.4.x/first-app/installation":"docs","docs/0.3.0-0.3.3/hello-world":"docs","plugins":"plugins","docs/0.3.4/reference/state/rx":"docs","docs/next/fundamentals/debugging":"docs","docs/0.3.4/reference/cli":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/next/first-app/error-handling":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.1.x/arch":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/fundamentals/routing":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/0.3.4/reference/server-communication":"docs","docs/0.4.x/first-app/dev-cycle":"docs","docs/0.4.x/state/incremental":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.4.x/core-principles":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/fundamentals/plugins":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.4.x/fundamentals/perseus-app":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/next/fundamentals/preloading":"docs","docs/next/fundamentals/head-headers":"docs","docs/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/0.4.x/capsules/capsules-vs-components":"docs","docs/0.4.x/first-app/generating-pages":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.4.x/fundamentals/hydration":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/next/fundamentals/styling":"docs","docs/0.4.x/state/revalidation":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.2.x/what-is-perseus":"docs","docs/next/fundamentals/plugins":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/next/state/amalgamation":"docs","docs/0.4.x/fundamentals/error-views":"docs","docs/next/fundamentals/i18n":"docs","docs/0.4.x/state/amalgamation":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.3.4/reference/styling":"docs","docs/next/state/incremental":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/fundamentals/serving-exporting":"docs","docs/faq":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.4.x/state/suspense":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/state/revalidation":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.2.x/i18n/intro":"docs","docs/next/state/build":"docs","docs/fundamentals/error-views":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.2.x/templates/intro":"docs","docs/0.4.x/state/intro":"docs","docs/0.2.x/styling":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.4.x/fundamentals/head-headers":"docs","docs/0.4.x/fundamentals/compilation-times":"docs","docs/next/migrating":"docs","docs/first-app/defining":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/next/first-app/installation":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/capsules/capsules-vs-components":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.4.x/capsules/intro":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/first-app/deploying":"docs","docs/0.2.x/i18n/using":"docs","docs/state/suspense":"docs","docs/0.4.x/state/freezing-thawing":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/next/fundamentals/static-content":"docs","docs/fundamentals/compilation-times":"docs","docs/0.3.4/reference/updating":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/next/fundamentals/hydration":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/0.1.x/building":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/fundamentals/hydration":"docs","docs/0.2.x/intro":"docs","docs/next/intro":"docs","docs/state/incremental":"docs","docs/0.2.x/advanced/routing":"docs","docs/fundamentals/static-content":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/static-content":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.4.x/quickstart":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.4/reference/state/global":"docs","docs/fundamentals/reactor":"docs","docs/next/state/global":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/fundamentals/preloading":"docs","docs/0.4.x/first-app/error-handling":"docs","docs/0.4.x/fundamentals/styling":"docs","docs/next/fundamentals/serving-exporting":"docs","docs/first-app/error-handling":"docs","docs/0.4.x/state/manual":"docs","docs/next/state/intro":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.3.4/reference/engines":"docs","docs/0.3.4/reference/views":"docs","docs/0.3.4/reference/exporting":"docs","docs/next/state/helper":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.4.x/fundamentals/serving-exporting":"docs","docs/0.4.x/fundamentals/static-content":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.1.x/templates":"docs","docs/next/state/browser":"docs","docs/0.4.x/fundamentals/js-interop":"docs","docs/next/first-app/deploying":"docs","docs/state/browser":"docs","docs/0.2.x/second-app":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.4.x/capsules/using":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/next/first-app/dev-cycle":"docs","docs/first-app/dev-cycle":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.4.x/state/helper":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.2.x/static-content":"docs","docs/fundamentals/styling":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.4.x/first-app/deploying":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/next/state/manual":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.4.x/fundamentals/reactor":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.2.x/error-pages":"docs","docs/0.4.x/fundamentals/preloading":"docs","docs/next/quickstart":"docs","docs/0.4.x/state/build":"docs","docs/migrating":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/next/capsules/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/next/fundamentals/perseus-app":"docs","docs/0.2.x/views":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/0.2.x/ejecting":"docs","docs/state/intro":"docs","docs/0.4.x/state/request":"docs","docs/next/what-is-perseus":"docs","docs/core-principles":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.1.x/setup":"docs","docs/0.3.4/intro":"docs","docs/first-app/generating-pages":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.4.x/fundamentals/debugging":"docs","docs/fundamentals/perseus-app":"docs","docs/capsules/intro":"docs","docs/0.2.x/updating":"docs","docs/0.4.x/fundamentals/testing":"docs","docs/0.3.4/core-principles":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/what-is-perseus":"docs","docs/0.2.x/hello-world":"docs","docs/next/fundamentals/compilation-times":"docs","docs/0.4.x/state/browser":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.4.x/faq":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/state/amalgamation":"docs","docs/next/first-app/generating-pages":"docs","docs/quickstart":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/next/capsules/using":"docs","docs/0.4.x/fundamentals/i18n":"docs","":"","docs/0.3.0-0.3.3/templates/intro":"docs","docs/next/fundamentals/js-interop":"docs","docs/0.4.x/first-app/defining":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/intro":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/0.2.x/cli":"docs","docs/fundamentals/i18n":"docs","docs/0.3.4/what-is-perseus":"docs","docs/next/fundamentals/testing":"docs","docs/next/fundamentals/routing":"docs","docs/0.4.x/state/global":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.3.4/advanced/arch":"docs","docs/fundamentals/testing":"docs","docs/state/request":"docs","docs/next/fundamentals/reactor":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/next/state/revalidation":"docs","docs/fundamentals/js-interop":"docs","docs/next/capsules/capsules-vs-components":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/capsules/using":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.2.x/debugging":"docs","docs/0.4.x/fundamentals/plugins":"docs","docs/next/fundamentals/error-views":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.3.4/reference/stores":"docs","docs/0.1.x/serving":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/state/helper":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.4.x/migrating":"docs","docs/0.3.0-0.3.3/define-app":"docs","comparisons":"comparisons","docs/next/first-app/defining":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.1.x/config_managers":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/fundamentals/debugging":"docs","docs/next/state/suspense":"docs","docs/state/build":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/state/request":"docs","docs/next/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.2.x/define-app":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/first-app/installation":"docs","docs/0.2.x/advanced/intro":"docs","docs/fundamentals/head-headers":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.1.x/routing":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.1.x/cli":"docs","docs/0.1.x/intro":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.2.x/strategies/request-state":"docs","docs/state/global":"docs"}`;

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script><meta itemprop=__perseus_head_boundary><title>Your Second App | Perseus Docs</title><link rel=stylesheet href=.perseus/static/styles/markdown.css><link rel=stylesheet href=.perseus/static/styles/docs_links_markdown.css><link rel=stylesheet href=.perseus/static/prism.css><script>
window.__PERSEUS_INITIAL_STATE = `{"content":"<h1>Your Second App</h1>\\n<p>This section will cover building a more realistic app than the <em>Hello World!</em> section, with proper structuring and multiple templates.</p>\\n<p>If learning by reading isn't really your thing, or you'd like a reference, you can see all the code in <a href=\\"https://github.com/framesurge/perseus/tree/main/examples/core/basic\\">this repository</a>!</p>\\n<h2>Setup</h2>\\n<p>Much like the <em>Hello World!</em> app, we'll start off by creating a new directory for the project, maybe <code>my-second-perseus-app</code> (or you could exercise imagination...). Then, we'll create a new <code>Cargo.toml</code> file and fill it with the following:</p>\\n<pre><code class=\\"language-toml\\">[package]\\nname = &quot;my-second-perseus-app&quot;\\nversion = &quot;0.1.0&quot;\\nedition = &quot;2018&quot;\\n\\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\\n\\n[dependencies]\\nperseus = { version = &quot;0.3.6&quot;, features = [ &quot;hydrate&quot; ] }\\nsycamore = &quot;0.7&quot;\\nserde = { version = &quot;1&quot;, features = [&quot;derive&quot;] }\\nserde_json = &quot;1&quot;\\n\\n</code></pre>\\n<p>The only difference between this and the last <code>Cargo.toml</code> we created is two new dependencies:</p>\\n<ul>\\n<li><a href=\\"https://serde.rs\\"><code>serde</code></a> -- a really useful Rust library for serializing/deserializing data</li>\\n<li><a href=\\"https://github.com/serde-rs/json\\"><code>serde_json</code></a> -- Serde's integration for JSON, which lets us pass around properties for more advanced pages in Perseus (you may not explicitly use this, but you'll need it as a dependency for some Perseus macros)</li>\\n</ul>\\n<h2><code>lib.rs</code></h2>\\n<p>As in every Perseus app, <code>lib.rs</code> is how we communicate with the CLI and tell it how our app works. Put the following content in <code>src/lib.rs</code>:</p>\\n<pre><code class=\\"language-rust\\">mod error_pages;\\nmod templates;\\n\\nuse perseus::{Html, PerseusApp};\\n\\n#[perseus::main]\\npub fn main&lt;G: Html&gt;() -&gt; PerseusApp&lt;G&gt; {\\n    PerseusApp::new()\\n        .template(crate::templates::index::get_template)\\n        .template(crate::templates::about::get_template)\\n        .error_pages(crate::error_pages::get_error_pages)\\n}\\n\\n</code></pre>\\n<p>This code is quite different from your first app, so let's go through how it works.</p>\\n<p>First, we define two other modules in our code: <code>error_pages</code> (at <code>src/error_pages.rs</code>) and <code>templates</code> (at <code>src/templates</code>). Don't worry, we'll create those in a moment. The rest of the code creates a new app with two templates, both from the <code>templates</code> module. Specifically, we provide the <code>.template()</code> function with another function that produces our template, which allows us to keep each template's code in a separate file.</p>\\n<p>We're also using <code>.error_pages()</code> here to tell Perseus how to handle errors in our app (like a nonexistent page), and we'll put these in the <code>error_pages</code> module. Note that you don't have to do this in development, Perseus has a set of defaults that it can use, but you can't use those in production, so you will have to create some error pages at some stage.</p>\\n<h2>Error Handling</h2>\\n<p>Before we get to the cool part of building the actual pages of the app, we should set up error pages, which we'll do in <code>src/error_pages.rs</code>:</p>\\n<pre><code class=\\"language-rust\\">use perseus::{ErrorPages, Html};\\nuse sycamore::view;\\n\\npub fn get_error_pages&lt;G: Html&gt;() -&gt; ErrorPages&lt;G&gt; {\\n    let mut error_pages = ErrorPages::new(|url, status, err, _| {\\n        view! {\\n            p { (format!(&quot;An error with HTTP code {} occurred at '{}': '{}'.&quot;, status, url, err)) }\\n        }\\n    });\\n    error_pages.add_page(404, |_, _, _, _| {\\n        view! {\\n            p { &quot;Page not found.&quot; }\\n        }\\n    });\\n\\n    error_pages\\n}\\n\\n</code></pre>\\n<p>The first thing to note here is the import of <a href=\\"https://docs.rs/sycamore/0.7/sycamore/generic_node/trait.Html.html\\"><code>Html</code></a>, which we define as a type parameter on the <code>get_error_pages</code> function. This makes sure that we can compile these views on the client or the server as long as they're targeting HTML (Sycamore can also target other templating formats for completely different systems, like MacOS desktop apps).</p>\\n<p>In this function, we also define a different error page for a 404 error, which will occur when a user tries to go to a page that doesn't exist. The fallback page (which we initialize <code>ErrorPages</code> with) is the same as last time, and will be called for any errors other than a <em>404 Not Found</em>. Note that the error pages we define here are extremely similar to Perseus' defaults, and, in a real app, you'd probably create something much more fancy!</p>\\n<h2><code>index.rs</code></h2>\\n<p>It's time to create the first page for this app! But first, we need to make sure that import in <code>src/lib.rs</code> of <code>mod templates;</code> works, which requires us to create a new file <code>src/templates/mod.rs</code>, which declares <code>src/templates</code> as a module in your crate with its own code (this is how folders work in rust projects). Add the following to that file:</p>\\n<pre><code class=\\"language-rust\\">pub mod about;\\npub mod index;\\n\\n</code></pre>\\n<p>It's common practice to have a file (or even a folder) for each <em>template</em>, which is slightly different to a page (explained in more detail later), and this app has two pages: a landing page (index) and an about page.</p>\\n<p>Let's begin with the landing page. Create a new file <code>src/templates/index.rs</code> and put the following inside:</p>\\n<pre><code class=\\"language-rust\\">use perseus::{Html, RenderFnResultWithCause, SsrNode, Template};\\nuse sycamore::prelude::{view, View};\\n\\n#[perseus::make_rx(IndexPageStateRx)]\\npub struct IndexPageState {\\n    pub greeting: String,\\n}\\n\\n#[perseus::template_rx]\\npub fn index_page(state: IndexPageStateRx) -&gt; View&lt;G&gt; {\\n    view! {\\n        p { (state.greeting.get()) }\\n        a(href = &quot;about&quot;, id = &quot;about-link&quot;) { &quot;About!&quot; }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;index&quot;)\\n        .build_state_fn(get_build_state)\\n        .template(index_page)\\n        .head(head)\\n}\\n\\n#[perseus::head]\\npub fn head(_props: IndexPageState) -&gt; View&lt;SsrNode&gt; {\\n    view! {\\n        title { &quot;Index Page | Perseus Example â€“ Basic&quot; }\\n    }\\n}\\n\\n#[perseus::autoserde(build_state)]\\npub async fn get_build_state(\\n    _path: String,\\n    _locale: String,\\n) -&gt; RenderFnResultWithCause&lt;IndexPageState&gt; {\\n    Ok(IndexPageState {\\n        greeting: &quot;Hello World!&quot;.to_string(),\\n    })\\n}\\n\\n</code></pre>\\n<p>This code is <em>much</em> more complex than the <em>Hello World!</em> example, so let's go through it carefully.</p>\\n<p>First, we import a whole ton of stuff:</p>\\n<ul>\\n<li><code>perseus</code>\\n<ul>\\n<li><code>RenderFnResultWithCause</code> -- see below for an explanation of this</li>\\n<li><code>Template</code> -- as before</li>\\n<li><code>Html</code> -- as before (this is from Sycamore, but is re-exported by Perseus for convenience)</li>\\n<li><code>http::header::{HeaderMap, HeaderName}</code> -- some types for adding HTTP headers to our page</li>\\n<li><code>SsrNode</code> -- Sycamore's representation of a node that will only be rendered on the server (this comes from the <code>sycamore</code> crate, but Perseus re-exports it for convenience)</li>\\n</ul>\\n</li>\\n<li><code>serde</code>\\n<ul>\\n<li><code>Serialize</code> -- a trait for <code>struct</code>s that can be turned into a string (like JSON)</li>\\n<li><code>Deserialize</code> -- a trait for <code>struct</code>s that can be <em>de</em>serialized from a string (like JSON)</li>\\n</ul>\\n</li>\\n<li><code>sycamore</code>\\n<ul>\\n<li><code>component</code> -- a macro that turns a function into a Sycamore component</li>\\n<li><code>view</code> -- the <code>view!</code> macro, same as before</li>\\n<li><code>View</code> -- the output of the <code>view!</code> macro</li>\\n</ul>\\n</li>\\n</ul>\\n<p>Then we define a number of different functions and a <code>struct</code>, each of which gets a section now.</p>\\n<h3><code>IndexPageState</code></h3>\\n<p>This <code>struct</code> represents the <em>state</em> of the index page. As mentioned in the explanation of Perseus' <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/core-principles\\">core principles</a>, Perseus is fundamentally a system for turning a state and a view into a user interface. In this case, our index page will display a greeting generated at build time. That means that our view code will be generic over the greeting that we generate (which you can see in our <code>view! {...}</code> code under <code>index_page()</code>). Perseus lets us generate state in <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies\\">several ways</a>, and in this case we'll use the simplest: <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-state\\">build state</a>, which just runs a custom function when we build our app that generates an instance of our state, which is represented by this <code>struct</code>.</p>\\n<p>Note that we also use the <code>#[perseus::make_rx(IndexPageStateRx)]</code> macro here to make our state <em>reactive</em>. What this macro does is takes in our <code>struct</code> and produces a new version of it called <code>IndexPageStateRx</code> that has the exact same fields, but with each one wrapped in a Sycamore <code>Signal</code>, which makes each field reactive. This means that our page can mutate its state in one place and every other place that uses that state will automatically update through Sycamore's reactivity system! You can read more about the ideas behind this <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx\\">here</a>.</p>\\n<h3><code>index_page()</code></h3>\\n<p>This is the actual component that will render a user interface for your page. Perseus lets you provide a <em>template function</em> like this as a simple Rust function that takes in your page's state and produces a Sycamore <code>View&lt;G&gt;</code> (again, <code>G</code> is ambient here because of the proc macro). However, there's <em>a lot</em> of work that goes on behind the scenes to make your state reactive, register it with Perseus, manage <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/global\\">global state</a>, and set up a Sycamore component that's usable by the rest of the Perseus code. This is all done with one of two attribute macros: <code>#[perseus::template(...)]</code> or <code>#[perseus::template_rx]</code>. In previous versions of Perseus, you'd use the former, which would give you an unreactive instance of your state (in our case, <code>IndexPageState</code>). However, since v0.3.4, it's recommended to use the latter, which gives you a reactive version (in our case, <code>IndexPageStateRx</code>) and can manage more advanced features of Perseus' <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx\\">reactive state platform</a>, so that's what we use here. Also, <code>template_rx</code> manages things like Sycamore components internally for you, minimizing the amount of code you actually have to write.</p>\\n<p>Note that <code>index_page()</code> takes <code>IndexPageStateRx</code> as an argument, which it can then access in the <code>view!</code>. This is Sycamore's interpolation system, which you can read about <a href=\\"https://sycamore-rs.netlify.app/docs/basics/template\\">here</a>, but all you need to know is that it's basically seamless and works exactly as you'd expect (remember though that, because we're using the <code>template_rx</code> macro, we have to use a reactive state <code>struct</code>, which we generate with the <code>make_rx</code> macro, so all our fields are wrapped in <code>Signal</code>s, which is why we use <code>.get()</code>).</p>\\n<p>The only other thing we do here is define an <code>&lt;a&gt;</code> (an HTML link) to <code>/about</code>. This link, and any others you define, will automatically be detected by Sycamore's systems, which will pass them to Perseus' routing logic, which means your users <strong>never leave the page</strong>. In this way, Perseus only pulls in the content that needs to change, and gives your users the feeling of a lightning-fast and weightless app.</p>\\n<p><em>Note: external links will automatically be excluded from this, and you can exclude manually by adding <code>rel=&quot;external&quot;</code> if you need.</em></p>\\n<h3><code>head()</code></h3>\\n<p>This function is very similar to <code>index_page()</code>, except that it isn't a fully fledged Sycamore component, it just returns a <code>view! {}</code> instead, and it only takes an unreactive version of your state. What this is used for is to define the content of the <code>&lt;head&gt;</code>, which is metadata for your website, like its <code>&lt;title&gt;</code>. As you can see, this is given the properties that <code>index_page()</code> takes, but we aren't using them for anything in this example. The <code>#[perseus::head]</code> macro tells Perseus to do some boilerplate work behind the scenes that's very similar to that done with <code>index_page</code>, but specialized for the <code>&lt;head&gt;</code>.</p>\\n<p>What's really important to note about this function is that it only renders to an <code>SsrNode</code>, which means you cannot use reactivity in here! Whatever is rendered the first time will be turned into a <code>String</code> and then statically interpolated into the document's <code>&lt;head&gt;</code>. That also means that this only runs on the server (if you want to change it on the client, you'll need to do that manually).</p>\\n<p>The difference between metadata defined here and metadata defined in your <code>index.html</code> file is that the latter will apply to every page, while this will only apply to the template. So, this is more useful for things like titles, while you might use <code>index.html</code> to import stylesheets or analytics.</p>\\n<p>If you inspect the source code of the HTML in your browser, you'll find a big comment in the <code>&lt;head&gt;</code> that says <code>&lt;!--PERSEUS_INTERPOLATED_HEAD_BEGINS--&gt;</code>, that separates the stuff that should remain the same on every page from the stuff that should update for each page.</p>\\n<h3><code>get_template()</code></h3>\\n<p>This function is what we call in <code>lib.rs</code>, and it combines everything else in this file to produce an actual Perseus <code>Template</code> to be used. Note the name of the template as <code>index</code>, which Perseus interprets as special, which causes this template to be rendered at <code>/</code> (the landing page).</p>\\n<p>Perseus' templating system is extremely versatile, and here we're using it to define our page itself through <code>.template()</code>, and to define a function that will modify the document <code>&lt;head&gt;</code> (which allows us to add a title) with <code>.head()</code>. Notably, we also use the <em>build state</em> rendering strategy, which tells Perseus to call the <code>get_build_state()</code> function when your app builds to get some state (an instance of <code>IndexPageState</code> to be precise). More on that in a moment.</p>\\n<h4><code>.template()</code></h4>\\n<p>This function is what Perseus will call when it wants to render your template (which it does more often than you might think). If you've used the <code>#[perseus::template_rx]</code> or <code>#[perseus::template(...)]</code> macro on <code>index_page()</code>, you can provide <code>index_page</code> directly here, but it can be useful to understand what that macro is doing.</p>\\n<p>Behind the scenes, that macro transforms your <code>index_page()</code> function to take properties as an <code>Option&lt;String&gt;</code> instead of as <code>IndexPageState</code>, because Perseus actually passes your properties around internally as <code>String</code>s. At first, this might seem weird, but it avoids a few common problems that would increase your final Wasm binary size and make your website take a very long time to load. Interestingly, it's actually also more performant to use <code>String</code>s everywhere, because we need to perform that conversion anyway when we send your properties to a user's browser. In addition, the <code>#[perseus::template_rx]</code> macro will manage setting up and interacting with the more complex features of Perseus' <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx\\">reactive state platform</a>.</p>\\n<p>If that all went over your head, don't worry, that's just what Perseus does behind the scenes, and what you used to have to do by hand! The <code>#[perseus::template(...)]</code>/<code>#[perseus::template_rx]</code> macros do all that for you.</p>\\n<h4><code>.head()</code></h4>\\n<p>This is just the equivalent of <code>.template()</code> for the <code>head()</code> function, and it does basically the exact same thing. The only particular thing of note here is that the properties this expects are again as an <code>Option&lt;String&gt;</code>, and those are deserialized automatically by the <code>#[perseus::head]</code> macro that we used on <code>head()</code> earlier.</p>\\n<h3><code>get_build_state()</code></h3>\\n<p>This function is part of Perseus' secret sauce (actually <em>open</em> sauce), and it will be called when the CLI builds your app to create properties that the template will take (it expects a string, hence the serialization). Here, we just hard-code a greeting in to be used, but the real power of this comes when you start using the fact that this function is <code>async</code>. You might query a database to get a list of blog posts, or pull in a Markdown documentation page and parse it, the possibilities are endless!</p>\\n<p>This function returns a rather special type, <code>RenderFnResultWithCause&lt;IndexPageState&gt;</code>, which declares that your function will return <code>IndexPageState</code> if it succeeds, and a special error if it fails. That error can be anything you want (it's a <code>Box&lt;dyn std::error::Error + Send + Sync&gt;</code> internally), but it will also have a blame assigned to it that records whether it was the server or the client that caused the error, which will impact the final HTTP status code (e.g. 404, 500, etc.). You can use the <code>blame_err!</code> macro to create these errors easily, but any time you use <code>?</code> in functions that return this type will simply use the default of blaming the server and returning an HTTP status code of <em>500 Internal Server Error</em>.</p>\\n<p>It may seem a little pointless to blame the client in the build process, but the reason this can happen is because, in more advanced uses of Perseus (particularly <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/incremental\\">incremental generation</a>), this function could be called as a result of a client's request with parameters that it provides, which could be invalid. Essentially, know that it's a thing that's important in more complex use-cases of Perseus.</p>\\n<p>That <code>#[perseus::autoserde(build_state)]</code> is also something you'll see quite a lot of (but not in older versions of Perseus). It's a convenience macro that automatically serializes the return of your function to a <code>String</code> for Perseus to use internally, which is basically just the opposite of the annotation we used earlier on <code>index_page()</code>. You don't technically need this, but it eliminates some boilerplate code that you don't need to bother writing yourself.</p>\\n<h2><code>about.rs</code></h2>\\n<p>Okay! We're past the hump, and now it's time to define the (much simpler) <code>/about</code> page. Create <code>src/templates/about.rs</code> and put the following inside:</p>\\n<pre><code class=\\"language-rust\\">use perseus::Template;\\nuse sycamore::prelude::{view, Html, SsrNode, View};\\n\\n#[perseus::template_rx]\\npub fn about_page() -&gt; View&lt;G&gt; {\\n    view! {\\n        p { &quot;About.&quot; }\\n    }\\n}\\n\\n#[perseus::head]\\npub fn head() -&gt; View&lt;SsrNode&gt; {\\n    view! {\\n        title { &quot;About Page | Perseus Example â€“ Basic&quot; }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;about&quot;).template(about_page).head(head)\\n}\\n\\n</code></pre>\\n<p>This is basically exactly the same as <code>index.rs</code>, except we don't have any state to deal with, and we don't need to generate anything special at build time (but Perseus will still render this page to static HTML at build time, ready to be served to your users).</p>\\n<h2>Running It</h2>\\n<p><code>perseus export -sw</code></p>\\n<p>That's all. Every time you build a Perseus app, that's all you need to do.</p>\\n<p><em>Note: because this app is very simple and doesn't use any server-requiring features, we can use <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/exporting\\">static exporting</a>. For some more complex apps, you'll need to use <code>perseus serve -w</code> to spin up a full server.</em></p>\\n<p>Once this is finished, your app will be live at <a href=\\"http://localhost:8080\\">http://localhost:8080</a>! Note that if you don't like that, you can change the host/port with the <code>PERSEUS_HOST</code>/<code>PERSEUS_PORT</code> environment variables (e.g. you'd want to set the host to <code>0.0.0.0</code> if you want other people on your network to be able to access your site).</p>\\n<p>Hop over to <a href=\\"http://localhost:8080\\">http://localhost:8080</a> in any modern browser and you should see your greeting <code>Hello World!</code> above a link to the about page! If you click that link, you'll be taken to a page that just says <code>About.</code>, but notice how your browser seemingly never navigates to a new page (the tab doesn't show a loading icon)? That's Perseus' <em>app shell</em> in action, which intercepts navigation to other pages and makes it occur seamlessly, only fetching the bare minimum to make the new page load. The same behavior will occur if you use your browser's forward/backward buttons.</p>\\n<p>You can also try changing some of the code for your app (like the greeting generated), and you'll see that your app will automatically rebuild. When it's done, your browser will reload the new version of your app (even keeping as much old state as it can, meaning you can keep working without losing your place, see <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/hsr\\">here</a> for the details)! under the hood, this process is similar to the <em>hot module reloading</em> that most JavaScript frameworks perform, but it's actually even more advanced and resilient.</p>\\n<details>\\n<summary>Why a 'modern browser'?</summary>\\n<h3>Browser Compatibility</h3>\\n<p>Perseus is compatible with any browser that supports Wasm, which is most modern browsers like Firefox and Chrome. However, legacy browsers like Internet Explorer will not work with any Perseus app, unless you <em>polyfill</em> support for WebAssembly.</p>\\n<p><em>Note: technically, it's possible to 'compile' Wasm into JavaScript, and we're looking into possibly supporting this inside Perseus for sites that need to target very old browsers. At the moment though, this is not supported through Perseus.</em></p>\\n</details>\\n<h2>Moving Forward</h2>\\n<p>Congratulations! You're now well on your way to building highly performant web apps in Rust! The remaining sections of this book are more reference-style, and won't guide you through building an app, but they'll focus instead on specific features of Perseus that can be used to make extremely powerful systems.</p>\\n<p>So go forth, and build!</p>\\n","current_version":"0.3.4","manifest":{"0.1.x":{"docs_rs":"0.1","git":"v0.1.4","state":"outdated"},"0.2.x":{"docs_rs":"0.2","git":"v0.2.3","state":"outdated"},"0.3.0-0.3.3":{"docs_rs":"0.3.3","git":"v0.3.3","state":"outdated"},"0.3.4":{"docs_rs":"0.3","git":"v0.3.6","state":"outdated"},"0.4.x":{"docs_rs":"0.4","git":"HEAD","state":"stable"}},"sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/perseus-app\\"><code>PerseusApp</code></a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/define-app\\"><code>define_app!</code></a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/views\\">Writing Views</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/index-view\\">The Index View</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/updating\\">Migrating from v0.3.3</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/route-announcer\\">Route Announcer</a></li>\\n</ul>\\n<hr />\\n<h1>Further Tutorials</h1>\\n<ul>\\n<li><a href=\\"docs/tutorials/auth\\">Authentication</a></li>\\n</ul>\\n","status":"Outdated","title":"Your Second App"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>ðŸ’¯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "Â© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/framesurge/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/framesurge/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script><meta itemprop=__perseus_head_end><script>//</script><body class="bg-white dark:bg-neutral-900"><div id=root><header data-hk=8.0 class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk=8.1 class="flex justify-between items-center"><a data-hk=8.2 class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font"href=en-US/>Perseus</a><div data-hk=8.3 class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6"><div data-hk=8.4 class=tham-box><div data-hk=8.5 class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk=8.6 class="hidden md:flex"><ul data-hk=8.7 class="mr-5 flex"><li data-hk=9.0 class="m-3 p-1 title-font"><a data-hk=9.1 href=en-US/docs class=px-2>Docs</a><li data-hk=9.2 class="m-3 p-1 title-font"><a data-hk=9.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=9.4 class="m-3 p-1 title-font"><a data-hk=9.5 href=en-US/plugins class=px-2>Plugins</a></ul></nav></div><nav data-hk=8.8 id=mobile_nav_menu class="md:hidden w-full text-center justify-center hidden"><ul data-hk=8.9 class=mr-5><li data-hk=10.0 class="m-3 p-1 title-font"><a data-hk=10.1 href=en-US/docs class=px-2>Docs</a><li data-hk=10.2 class="m-3 p-1 title-font"><a data-hk=10.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=10.4 class="m-3 p-1 title-font"><a data-hk=10.5 href=en-US/plugins class=px-2>Plugins</a></ul><hr data-hk=2.0><div data-hk=2.1 class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk=2.2 class="flex w-full justify-center text-center"><div data-hk=2.3 class="max-w-3xl flex flex-col"><select data-hk=4.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=4.5 value=next>Next (unreleased)<option data-hk=4.6 value=0.4.x>v0.4.x (stable)<option data-hk=4.0 value=0.3.4 selected>v0.3.4 (outdated)<option data-hk=4.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=4.2 value=0.2.x>v0.2.x (outdated)<option data-hk=4.3 value=0.1.x>v0.1.x (outdated)</select></div></div><div data-hk=2.4 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/intro>Introduction</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/core-principles>Core Principles</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/hello-world>Hello World!</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/second-app>Your Second App</a></ul><hr><h1>Reference</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/perseus-app><code>PerseusApp</code></a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/define-app><code>define_app!</code></a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/views>Writing Views</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/index-view>The Index View</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/live-reloading>Live Reloading</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/intro>Templates and Routing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification>Modifying the <code>&LThead></code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/setting-headers>Modifying HTTP Headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/router-state>Listening to the Router</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/error-pages>Error Pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/static-content>Static Content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/intro>Internationalization</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/defining>Defining Translations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/using>Using Translations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers>Translations Managers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/other-engines>Other Translation Engines</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/intro>Rendering Strategies</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-state>Build State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-paths>Build Paths</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/request-state>Request State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/incremental>Incremental Generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation>State Amalgamation</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx>Reactive State</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/global>Global State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/freezing>State Freezing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/idb-freezing>Freezing to IndexedDB</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/hsr>Hot State Reloading (HSR)</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/cli>CLI</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/ejecting>Ejecting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/snooping>Snooping</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/intro>Testing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/checkpoints>Checkpoints</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics>Fantoccini Basics</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/manual>Manual Testing</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/server-communication>Communicating with a Server</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/stores>Stores</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/exporting>Static Exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/intro>Plugins</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/functional>Functional Actions</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/control>Control Actions</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/using>Using Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/tinker>The <code>tinker</code> Action</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/writing>Writing Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/security>Security Considerations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/publishing>Publishing Plugins</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/engines>Engines</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/intro>Deploying</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverful>Server Deployment</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverless>Serverless Deployment</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/size>Optimizing Code Size</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths>Relative Paths</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/docker>Docker Deployment</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/updating>Migrating from v0.3.3</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs>Common Pitfalls and Known Bugs</a></ul><hr><h1>Advanced</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/intro>Under the Hood</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/arch>Architecture</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/initial-loads>Initial Loads</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/subsequent-loads>Subsequent Loads</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/routing>Routing</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/route-announcer>Route Announcer</a></ul><hr><h1>Further Tutorials</h1><ul><li><a href=docs/tutorials/auth>Authentication</a></ul></div></div></nav></header><main data-hk=2.20 id=scroll-container><div data-hk=2.5 class="flex w-full"><div data-hk=2.6 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk=2.7 class=mr-5><div data-hk=2.8 class="text-left text-black dark:text-white p-3"><aside data-hk=2.9><div data-hk=2.10 class="flex flex-col"><select data-hk=6.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=6.5 value=next>Next (unreleased)<option data-hk=6.6 value=0.4.x>v0.4.x (stable)<option data-hk=6.0 value=0.3.4 selected>v0.3.4 (outdated)<option data-hk=6.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=6.2 value=0.2.x>v0.2.x (outdated)<option data-hk=6.3 value=0.1.x>v0.1.x (outdated)</select></div><div data-hk=2.11 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/intro>Introduction</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/core-principles>Core Principles</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/hello-world>Hello World!</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/tutorials/second-app>Your Second App</a></ul><hr><h1>Reference</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/perseus-app><code>PerseusApp</code></a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/define-app><code>define_app!</code></a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/views>Writing Views</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/index-view>The Index View</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/live-reloading>Live Reloading</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/intro>Templates and Routing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification>Modifying the <code>&LThead></code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/setting-headers>Modifying HTTP Headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/templates/router-state>Listening to the Router</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/error-pages>Error Pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/static-content>Static Content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/intro>Internationalization</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/defining>Defining Translations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/using>Using Translations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers>Translations Managers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/i18n/other-engines>Other Translation Engines</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/intro>Rendering Strategies</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-state>Build State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-paths>Build Paths</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/request-state>Request State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/incremental>Incremental Generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation>State Amalgamation</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx>Reactive State</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/global>Global State</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/freezing>State Freezing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/idb-freezing>Freezing to IndexedDB</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/hsr>Hot State Reloading (HSR)</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/cli>CLI</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/ejecting>Ejecting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/snooping>Snooping</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/intro>Testing</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/checkpoints>Checkpoints</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics>Fantoccini Basics</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/testing/manual>Manual Testing</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/server-communication>Communicating with a Server</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/stores>Stores</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/exporting>Static Exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/intro>Plugins</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/functional>Functional Actions</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/control>Control Actions</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/using>Using Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/tinker>The <code>tinker</code> Action</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/writing>Writing Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/security>Security Considerations</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/plugins/publishing>Publishing Plugins</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/engines>Engines</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/intro>Deploying</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverful>Server Deployment</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/serverless>Serverless Deployment</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/size>Optimizing Code Size</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths>Relative Paths</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/deploying/docker>Docker Deployment</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/updating>Migrating from v0.3.3</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs>Common Pitfalls and Known Bugs</a></ul><hr><h1>Advanced</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/intro>Under the Hood</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/arch>Architecture</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/initial-loads>Initial Loads</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/subsequent-loads>Subsequent Loads</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/routing>Routing</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/advanced/route-announcer>Route Announcer</a></ul><hr><h1>Further Tutorials</h1><ul><li><a href=docs/tutorials/auth>Authentication</a></ul></div></aside></div></div></div><div data-hk=2.12 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk=2.13 class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><div data-hk=2.14 class="ring-4 ring-red-400 p-4 rounded-lg mt-1"><div data-hk=2.15 class="flex flex-col 2xs:flex-row dark:text-white"><span data-hk=2.16 class="self-center mr-2"style="fill: #f87171;"><svg xmlns=http://www.w3.org/2000/svg height=auto viewbox="0 0 24 24"width=2.25rem fill=\#000000><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk=2.17>This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=en-US/docs/0.4.x/intro class=underline>here</a>.</div></div><main data-hk=2.18 class="text-black dark:text-white"><div data-hk=1.0 class="markdown min-w-0 pb-10"><h1>Your Second App</h1><p>This section will cover building a more realistic app than the <em>Hello World!</em> section, with proper structuring and multiple templates.<p>If learning by reading isn't really your thing, or you'd like a reference, you can see all the code in <a href=https://github.com/framesurge/perseus/tree/main/examples/core/basic>this repository</a>!<h2>Setup</h2><p>Much like the <em>Hello World!</em> app, we'll start off by creating a new directory for the project, maybe <code>my-second-perseus-app</code> (or you could exercise imagination...). Then, we'll create a new <code>Cargo.toml</code> file and fill it with the following:<pre><code class=language-toml>[package]
name = "my-second-perseus-app"
version = "0.1.0"
edition = "2018"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
perseus = { version = "0.3.6", features = [ "hydrate" ] }
sycamore = "0.7"
serde = { version = "1", features = ["derive"] }
serde_json = "1"

</code></pre><p>The only difference between this and the last <code>Cargo.toml</code> we created is two new dependencies:<ul><li><a href=https://serde.rs><code>serde</code></a> -- a really useful Rust library for serializing/deserializing data<li><a href=https://github.com/serde-rs/json><code>serde_json</code></a> -- Serde's integration for JSON, which lets us pass around properties for more advanced pages in Perseus (you may not explicitly use this, but you'll need it as a dependency for some Perseus macros)</ul><h2><code>lib.rs</code></h2><p>As in every Perseus app, <code>lib.rs</code> is how we communicate with the CLI and tell it how our app works. Put the following content in <code>src/lib.rs</code>:<pre><code class=language-rust>mod error_pages;
mod templates;

use perseus::{Html, PerseusApp};

#[perseus::main]
pub fn main&LTG: Html>() -> PerseusApp&LTG> {
    PerseusApp::new()
        .template(crate::templates::index::get_template)
        .template(crate::templates::about::get_template)
        .error_pages(crate::error_pages::get_error_pages)
}

</code></pre><p>This code is quite different from your first app, so let's go through how it works.<p>First, we define two other modules in our code: <code>error_pages</code> (at <code>src/error_pages.rs</code>) and <code>templates</code> (at <code>src/templates</code>). Don't worry, we'll create those in a moment. The rest of the code creates a new app with two templates, both from the <code>templates</code> module. Specifically, we provide the <code>.template()</code> function with another function that produces our template, which allows us to keep each template's code in a separate file.<p>We're also using <code>.error_pages()</code> here to tell Perseus how to handle errors in our app (like a nonexistent page), and we'll put these in the <code>error_pages</code> module. Note that you don't have to do this in development, Perseus has a set of defaults that it can use, but you can't use those in production, so you will have to create some error pages at some stage.<h2>Error Handling</h2><p>Before we get to the cool part of building the actual pages of the app, we should set up error pages, which we'll do in <code>src/error_pages.rs</code>:<pre><code class=language-rust>use perseus::{ErrorPages, Html};
use sycamore::view;

pub fn get_error_pages&LTG: Html>() -> ErrorPages&LTG> {
    let mut error_pages = ErrorPages::new(|url, status, err, _| {
        view! {
            p { (format!("An error with HTTP code {} occurred at '{}': '{}'.", status, url, err)) }
        }
    });
    error_pages.add_page(404, |_, _, _, _| {
        view! {
            p { "Page not found." }
        }
    });

    error_pages
}

</code></pre><p>The first thing to note here is the import of <a href=https://docs.rs/sycamore/0.7/sycamore/generic_node/trait.Html.html><code>Html</code></a>, which we define as a type parameter on the <code>get_error_pages</code> function. This makes sure that we can compile these views on the client or the server as long as they're targeting HTML (Sycamore can also target other templating formats for completely different systems, like MacOS desktop apps).<p>In this function, we also define a different error page for a 404 error, which will occur when a user tries to go to a page that doesn't exist. The fallback page (which we initialize <code>ErrorPages</code> with) is the same as last time, and will be called for any errors other than a <em>404 Not Found</em>. Note that the error pages we define here are extremely similar to Perseus' defaults, and, in a real app, you'd probably create something much more fancy!<h2><code>index.rs</code></h2><p>It's time to create the first page for this app! But first, we need to make sure that import in <code>src/lib.rs</code> of <code>mod templates;</code> works, which requires us to create a new file <code>src/templates/mod.rs</code>, which declares <code>src/templates</code> as a module in your crate with its own code (this is how folders work in rust projects). Add the following to that file:<pre><code class=language-rust>pub mod about;
pub mod index;

</code></pre><p>It's common practice to have a file (or even a folder) for each <em>template</em>, which is slightly different to a page (explained in more detail later), and this app has two pages: a landing page (index) and an about page.<p>Let's begin with the landing page. Create a new file <code>src/templates/index.rs</code> and put the following inside:<pre><code class=language-rust>use perseus::{Html, RenderFnResultWithCause, SsrNode, Template};
use sycamore::prelude::{view, View};

#[perseus::make_rx(IndexPageStateRx)]
pub struct IndexPageState {
    pub greeting: String,
}

#[perseus::template_rx]
pub fn index_page(state: IndexPageStateRx) -> View&LTG> {
    view! {
        p { (state.greeting.get()) }
        a(href = "about", id = "about-link") { "About!" }
    }
}

pub fn get_template&LTG: Html>() -> Template&LTG> {
    Template::new("index")
        .build_state_fn(get_build_state)
        .template(index_page)
        .head(head)
}

#[perseus::head]
pub fn head(_props: IndexPageState) -> View&LTSsrNode> {
    view! {
        title { "Index Page | Perseus Example â€“ Basic" }
    }
}

#[perseus::autoserde(build_state)]
pub async fn get_build_state(
    _path: String,
    _locale: String,
) -> RenderFnResultWithCause&LTIndexPageState> {
    Ok(IndexPageState {
        greeting: "Hello World!".to_string(),
    })
}

</code></pre><p>This code is <em>much</em> more complex than the <em>Hello World!</em> example, so let's go through it carefully.<p>First, we import a whole ton of stuff:<ul><li><code>perseus</code> <ul><li><code>RenderFnResultWithCause</code> -- see below for an explanation of this<li><code>Template</code> -- as before<li><code>Html</code> -- as before (this is from Sycamore, but is re-exported by Perseus for convenience)<li><code>http::header::{HeaderMap, HeaderName}</code> -- some types for adding HTTP headers to our page<li><code>SsrNode</code> -- Sycamore's representation of a node that will only be rendered on the server (this comes from the <code>sycamore</code> crate, but Perseus re-exports it for convenience)</ul><li><code>serde</code> <ul><li><code>Serialize</code> -- a trait for <code>struct</code>s that can be turned into a string (like JSON)<li><code>Deserialize</code> -- a trait for <code>struct</code>s that can be <em>de</em>serialized from a string (like JSON)</ul><li><code>sycamore</code> <ul><li><code>component</code> -- a macro that turns a function into a Sycamore component<li><code>view</code> -- the <code>view!</code> macro, same as before<li><code>View</code> -- the output of the <code>view!</code> macro</ul></ul><p>Then we define a number of different functions and a <code>struct</code>, each of which gets a section now.<h3><code>IndexPageState</code></h3><p>This <code>struct</code> represents the <em>state</em> of the index page. As mentioned in the explanation of Perseus' <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/core-principles>core principles</a>, Perseus is fundamentally a system for turning a state and a view into a user interface. In this case, our index page will display a greeting generated at build time. That means that our view code will be generic over the greeting that we generate (which you can see in our <code>view! {...}</code> code under <code>index_page()</code>). Perseus lets us generate state in <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies>several ways</a>, and in this case we'll use the simplest: <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/build-state>build state</a>, which just runs a custom function when we build our app that generates an instance of our state, which is represented by this <code>struct</code>.<p>Note that we also use the <code>#[perseus::make_rx(IndexPageStateRx)]</code> macro here to make our state <em>reactive</em>. What this macro does is takes in our <code>struct</code> and produces a new version of it called <code>IndexPageStateRx</code> that has the exact same fields, but with each one wrapped in a Sycamore <code>Signal</code>, which makes each field reactive. This means that our page can mutate its state in one place and every other place that uses that state will automatically update through Sycamore's reactivity system! You can read more about the ideas behind this <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx>here</a>.<h3><code>index_page()</code></h3><p>This is the actual component that will render a user interface for your page. Perseus lets you provide a <em>template function</em> like this as a simple Rust function that takes in your page's state and produces a Sycamore <code>View&LTG></code> (again, <code>G</code> is ambient here because of the proc macro). However, there's <em>a lot</em> of work that goes on behind the scenes to make your state reactive, register it with Perseus, manage <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/global>global state</a>, and set up a Sycamore component that's usable by the rest of the Perseus code. This is all done with one of two attribute macros: <code>#[perseus::template(...)]</code> or <code>#[perseus::template_rx]</code>. In previous versions of Perseus, you'd use the former, which would give you an unreactive instance of your state (in our case, <code>IndexPageState</code>). However, since v0.3.4, it's recommended to use the latter, which gives you a reactive version (in our case, <code>IndexPageStateRx</code>) and can manage more advanced features of Perseus' <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx>reactive state platform</a>, so that's what we use here. Also, <code>template_rx</code> manages things like Sycamore components internally for you, minimizing the amount of code you actually have to write.<p>Note that <code>index_page()</code> takes <code>IndexPageStateRx</code> as an argument, which it can then access in the <code>view!</code>. This is Sycamore's interpolation system, which you can read about <a href=https://sycamore-rs.netlify.app/docs/basics/template>here</a>, but all you need to know is that it's basically seamless and works exactly as you'd expect (remember though that, because we're using the <code>template_rx</code> macro, we have to use a reactive state <code>struct</code>, which we generate with the <code>make_rx</code> macro, so all our fields are wrapped in <code>Signal</code>s, which is why we use <code>.get()</code>).<p>The only other thing we do here is define an <code>&LTa></code> (an HTML link) to <code>/about</code>. This link, and any others you define, will automatically be detected by Sycamore's systems, which will pass them to Perseus' routing logic, which means your users <strong>never leave the page</strong>. In this way, Perseus only pulls in the content that needs to change, and gives your users the feeling of a lightning-fast and weightless app.<p><em>Note: external links will automatically be excluded from this, and you can exclude manually by adding <code>rel="external"</code> if you need.</em><h3><code>head()</code></h3><p>This function is very similar to <code>index_page()</code>, except that it isn't a fully fledged Sycamore component, it just returns a <code>view! {}</code> instead, and it only takes an unreactive version of your state. What this is used for is to define the content of the <code>&LThead></code>, which is metadata for your website, like its <code>&LTtitle></code>. As you can see, this is given the properties that <code>index_page()</code> takes, but we aren't using them for anything in this example. The <code>#[perseus::head]</code> macro tells Perseus to do some boilerplate work behind the scenes that's very similar to that done with <code>index_page</code>, but specialized for the <code>&LThead></code>.<p>What's really important to note about this function is that it only renders to an <code>SsrNode</code>, which means you cannot use reactivity in here! Whatever is rendered the first time will be turned into a <code>String</code> and then statically interpolated into the document's <code>&LThead></code>. That also means that this only runs on the server (if you want to change it on the client, you'll need to do that manually).<p>The difference between metadata defined here and metadata defined in your <code>index.html</code> file is that the latter will apply to every page, while this will only apply to the template. So, this is more useful for things like titles, while you might use <code>index.html</code> to import stylesheets or analytics.<p>If you inspect the source code of the HTML in your browser, you'll find a big comment in the <code>&LThead></code> that says <code>&LT!--PERSEUS_INTERPOLATED_HEAD_BEGINS--></code>, that separates the stuff that should remain the same on every page from the stuff that should update for each page.<h3><code>get_template()</code></h3><p>This function is what we call in <code>lib.rs</code>, and it combines everything else in this file to produce an actual Perseus <code>Template</code> to be used. Note the name of the template as <code>index</code>, which Perseus interprets as special, which causes this template to be rendered at <code>/</code> (the landing page).<p>Perseus' templating system is extremely versatile, and here we're using it to define our page itself through <code>.template()</code>, and to define a function that will modify the document <code>&LThead></code> (which allows us to add a title) with <code>.head()</code>. Notably, we also use the <em>build state</em> rendering strategy, which tells Perseus to call the <code>get_build_state()</code> function when your app builds to get some state (an instance of <code>IndexPageState</code> to be precise). More on that in a moment.<h4><code>.template()</code></h4><p>This function is what Perseus will call when it wants to render your template (which it does more often than you might think). If you've used the <code>#[perseus::template_rx]</code> or <code>#[perseus::template(...)]</code> macro on <code>index_page()</code>, you can provide <code>index_page</code> directly here, but it can be useful to understand what that macro is doing.<p>Behind the scenes, that macro transforms your <code>index_page()</code> function to take properties as an <code>Option&LTString></code> instead of as <code>IndexPageState</code>, because Perseus actually passes your properties around internally as <code>String</code>s. At first, this might seem weird, but it avoids a few common problems that would increase your final Wasm binary size and make your website take a very long time to load. Interestingly, it's actually also more performant to use <code>String</code>s everywhere, because we need to perform that conversion anyway when we send your properties to a user's browser. In addition, the <code>#[perseus::template_rx]</code> macro will manage setting up and interacting with the more complex features of Perseus' <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/rx>reactive state platform</a>.<p>If that all went over your head, don't worry, that's just what Perseus does behind the scenes, and what you used to have to do by hand! The <code>#[perseus::template(...)]</code>/<code>#[perseus::template_rx]</code> macros do all that for you.<h4><code>.head()</code></h4><p>This is just the equivalent of <code>.template()</code> for the <code>head()</code> function, and it does basically the exact same thing. The only particular thing of note here is that the properties this expects are again as an <code>Option&LTString></code>, and those are deserialized automatically by the <code>#[perseus::head]</code> macro that we used on <code>head()</code> earlier.<h3><code>get_build_state()</code></h3><p>This function is part of Perseus' secret sauce (actually <em>open</em> sauce), and it will be called when the CLI builds your app to create properties that the template will take (it expects a string, hence the serialization). Here, we just hard-code a greeting in to be used, but the real power of this comes when you start using the fact that this function is <code>async</code>. You might query a database to get a list of blog posts, or pull in a Markdown documentation page and parse it, the possibilities are endless!<p>This function returns a rather special type, <code>RenderFnResultWithCause&LTIndexPageState></code>, which declares that your function will return <code>IndexPageState</code> if it succeeds, and a special error if it fails. That error can be anything you want (it's a <code>Box&LTdyn std::error::Error + Send + Sync></code> internally), but it will also have a blame assigned to it that records whether it was the server or the client that caused the error, which will impact the final HTTP status code (e.g. 404, 500, etc.). You can use the <code>blame_err!</code> macro to create these errors easily, but any time you use <code>?</code> in functions that return this type will simply use the default of blaming the server and returning an HTTP status code of <em>500 Internal Server Error</em>.<p>It may seem a little pointless to blame the client in the build process, but the reason this can happen is because, in more advanced uses of Perseus (particularly <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/strategies/incremental>incremental generation</a>), this function could be called as a result of a client's request with parameters that it provides, which could be invalid. Essentially, know that it's a thing that's important in more complex use-cases of Perseus.<p>That <code>#[perseus::autoserde(build_state)]</code> is also something you'll see quite a lot of (but not in older versions of Perseus). It's a convenience macro that automatically serializes the return of your function to a <code>String</code> for Perseus to use internally, which is basically just the opposite of the annotation we used earlier on <code>index_page()</code>. You don't technically need this, but it eliminates some boilerplate code that you don't need to bother writing yourself.<h2><code>about.rs</code></h2><p>Okay! We're past the hump, and now it's time to define the (much simpler) <code>/about</code> page. Create <code>src/templates/about.rs</code> and put the following inside:<pre><code class=language-rust>use perseus::Template;
use sycamore::prelude::{view, Html, SsrNode, View};

#[perseus::template_rx]
pub fn about_page() -> View&LTG> {
    view! {
        p { "About." }
    }
}

#[perseus::head]
pub fn head() -> View&LTSsrNode> {
    view! {
        title { "About Page | Perseus Example â€“ Basic" }
    }
}

pub fn get_template&LTG: Html>() -> Template&LTG> {
    Template::new("about").template(about_page).head(head)
}

</code></pre><p>This is basically exactly the same as <code>index.rs</code>, except we don't have any state to deal with, and we don't need to generate anything special at build time (but Perseus will still render this page to static HTML at build time, ready to be served to your users).<h2>Running It</h2><p><code>perseus export -sw</code><p>That's all. Every time you build a Perseus app, that's all you need to do.<p><em>Note: because this app is very simple and doesn't use any server-requiring features, we can use <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/exporting>static exporting</a>. For some more complex apps, you'll need to use <code>perseus serve -w</code> to spin up a full server.</em><p>Once this is finished, your app will be live at <a href=http://localhost:8080>http://localhost:8080</a>! Note that if you don't like that, you can change the host/port with the <code>PERSEUS_HOST</code>/<code>PERSEUS_PORT</code> environment variables (e.g. you'd want to set the host to <code>0.0.0.0</code> if you want other people on your network to be able to access your site).<p>Hop over to <a href=http://localhost:8080>http://localhost:8080</a> in any modern browser and you should see your greeting <code>Hello World!</code> above a link to the about page! If you click that link, you'll be taken to a page that just says <code>About.</code>, but notice how your browser seemingly never navigates to a new page (the tab doesn't show a loading icon)? That's Perseus' <em>app shell</em> in action, which intercepts navigation to other pages and makes it occur seamlessly, only fetching the bare minimum to make the new page load. The same behavior will occur if you use your browser's forward/backward buttons.<p>You can also try changing some of the code for your app (like the greeting generated), and you'll see that your app will automatically rebuild. When it's done, your browser will reload the new version of your app (even keeping as much old state as it can, meaning you can keep working without losing your place, see <a href=https://framesurge.sh/perseus/en-US/docs/0.3.4/reference/state/hsr>here</a> for the details)! under the hood, this process is similar to the <em>hot module reloading</em> that most JavaScript frameworks perform, but it's actually even more advanced and resilient.<details><summary>Why a 'modern browser'?</summary> <h3>Browser Compatibility</h3> <p>Perseus is compatible with any browser that supports Wasm, which is most modern browsers like Firefox and Chrome. However, legacy browsers like Internet Explorer will not work with any Perseus app, unless you <em>polyfill</em> support for WebAssembly.</p> <p><em>Note: technically, it's possible to 'compile' Wasm into JavaScript, and we're looking into possibly supporting this inside Perseus for sites that need to target very old browsers. At the moment though, this is not supported through Perseus.</em></details><h2>Moving Forward</h2><p>Congratulations! You're now well on your way to building highly performant web apps in Rust! The remaining sections of this book are more reference-style, and won't guide you through building an app, but they'll focus instead on specific features of Perseus that can be used to make extremely powerful systems.<p>So go forth, and build!</div></main></div><div data-hk=2.19 class=row-start-2><footer data-hk=7.0 class="w-full flex justify-center py-5 bg-black text-white"><p data-hk=7.1 class="mx-5 text-center"><span data-hk=7.2>Â© <a href=https://github.com/arctic-hen7 class=underline>arctic-hen7</a> 2021-2023, see license <a href=https://github.com/framesurge/perseus/blob/main/LICENSE class=underline>here</a>.</span></footer></div></div></div></main><script data-hk=0.0 src=.perseus/static/prism.js defer></script><script data-hk=0.1>window.Prism.highlightAll();</script></div><div id=__perseus_popup_error></div>