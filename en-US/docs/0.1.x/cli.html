<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/define-app":"docs","docs/next/what-is-perseus":"docs","docs/next/deploying/intro":"docs","docs/0.1.x/strategies/request_state":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/advanced/initial-loads":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.3.x/deploying/serverful":"docs","docs/next/views":"docs","docs/0.3.x/plugins/control":"docs","docs/0.3.x/ejecting":"docs","docs/deploying/intro":"docs","docs/config-managers":"docs","docs/next/testing/checkpoints":"docs","comparisons":"comparisons","docs/0.3.x/templates/intro":"docs","docs/next/define-app":"docs","docs/next/plugins/intro":"docs","docs/intro":"docs","docs/0.1.x/routing":"docs","docs/0.1.x/strategies/incremental":"docs","docs/next/testing/fantoccini-basics":"docs","docs/0.3.x/intro":"docs","docs/next/deploying/size":"docs","docs/0.3.x/strategies/build-state":"docs","docs":"docs","docs/templates/metadata-modification":"docs","docs/0.3.x/views":"docs","docs/0.2.x/testing/intro":"docs","docs/updating":"docs","docs/0.3.x/error-pages":"docs","docs/next/templates/metadata-modification":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.x/deploying/serverless":"docs","docs/testing/manual":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/next/plugins/using":"docs","docs/cli":"docs","index":"index","docs/next/i18n/translations-managers":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.2.x/static-content":"docs","docs/next/i18n/defining":"docs","docs/0.3.x/static-content":"docs","docs/0.1.x/building":"docs","docs/templates/intro":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.x/styling":"docs","docs/0.3.x/plugins/security":"docs","docs/templates/setting-headers":"docs","docs/0.2.x/debugging":"docs","docs/next/stores":"docs","docs/0.3.x/hello-world":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/0.3.x/deploying/size":"docs","docs/i18n/defining":"docs","docs/0.2.x/views":"docs","docs/advanced/subsequent-loads":"docs","docs/0.1.x/strategies/build_state":"docs","docs/next/advanced/arch":"docs","docs/next/plugins/security":"docs","docs/strategies/revalidation":"docs","docs/strategies/intro":"docs","docs/0.3.x/testing/intro":"docs","docs/strategies/amalgamation":"docs","docs/0.2.x/hello-world":"docs","docs/next/static-content":"docs","docs/0.2.x/error-pages":"docs","docs/next/strategies/build-state":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/i18n/translations-managers":"docs","docs/0.3.x/strategies/incremental":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/0.3.x/cli":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/0.3.x/second-app":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/strategies/incremental":"docs","docs/next/deploying/serverful":"docs","docs/0.1.x/serving":"docs","docs/0.3.x/strategies/intro":"docs","docs/strategies/build-state":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/debugging":"docs","docs/deploying/exporting":"docs","docs/what-is-perseus":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.3.x/advanced/arch":"docs","docs/0.3.x/plugins/writing":"docs","docs/next/second-app":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.3.x/updating":"docs","docs/next/testing/intro":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/next/i18n/using":"docs","docs/0.2.x/second-app":"docs","docs/testing/fantoccini-basics":"docs","docs/testing/checkpoints":"docs","docs/0.2.x/define-app":"docs","docs/0.2.x/i18n/defining":"docs","docs/next/templates/intro":"docs","docs/views":"docs","docs/0.3.x/i18n/using":"docs","docs/next/server-communication":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/next/styling":"docs","docs/0.1.x/templates":"docs","docs/0.3.x/define-app":"docs","docs/0.3.x/advanced/intro":"docs","docs/0.3.x/debugging":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.2.x/testing/manual":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/plugins/functional":"docs","docs/i18n/intro":"docs","docs/next/strategies/revalidation":"docs","docs/0.3.x/stores":"docs","docs/advanced/intro":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.x/i18n/defining":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/0.2.x/updating":"docs","docs/0.1.x/config_managers":"docs","docs/next/strategies/request-state":"docs","docs/0.3.x/strategies/request-state":"docs","docs/0.1.x/intro":"docs","docs/0.3.x/testing/manual":"docs","docs/strategies/build-paths":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/strategies/intro":"docs","docs/error-pages":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/templates/setting-headers":"docs","docs/next/testing/manual":"docs","docs/0.3.x/plugins/using":"docs","docs/0.1.x/cli":"docs","docs/next/strategies/build-paths":"docs","docs/next/ejecting":"docs","docs/i18n/other-engines":"docs","docs/0.2.x/i18n/using":"docs","docs/0.1.x/setup":"docs","docs/next/deploying/serverless":"docs","docs/0.2.x/intro":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.2.x/ejecting":"docs","docs/0.3.x/advanced/routing":"docs","docs/static-content":"docs","docs/0.3.x/plugins/functional":"docs","docs/second-app":"docs","docs/0.3.x/testing/checkpoints":"docs","docs/next/hello-world":"docs","docs/0.2.x/cli":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/styling":"docs","docs/next/i18n/intro":"docs","docs/0.1.x/strategies/intro":"docs","docs/testing/intro":"docs","docs/0.2.x/templates/intro":"docs","docs/next/cli":"docs","docs/0.3.x/exporting":"docs","docs/next/strategies/amalgamation":"docs","docs/0.3.x/what-is-perseus":"docs","docs/0.3.x/i18n/intro":"docs","docs/next/plugins/control":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/next/debugging":"docs","docs/next/i18n/other-engines":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.x/server-communication":"docs","docs/next/advanced/intro":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/hello-world":"docs","docs/next/advanced/routing":"docs","docs/next/plugins/writing":"docs","docs/advanced/arch":"docs","docs/ejecting":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/next/deploying/relative-paths":"docs","docs/styling":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.x/deploying/intro":"docs","docs/i18n/using":"docs","docs/strategies/request-state":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.2.x/strategies/build-state":"docs","docs/advanced/routing":"docs","docs/advanced/initial-loads":"docs","docs/next/plugins/tinker":"docs","docs/next/exporting":"docs","docs/next/error-pages":"docs","docs/next/intro":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/strategies/incremental":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.x/plugins/tinker":"docs","docs/0.1.x/arch":"docs","docs/next/updating":"docs","docs/0.3.x/plugins/intro":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title>CLI | Perseus Docs</title><link href=".perseus/static/styles/markdown.css" rel="stylesheet"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link rel="stylesheet" href=".perseus/static/prism.css"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"CLI","content":"<h1>CLI</h1>\\n<p>Perseus has a CLI (command line interface) designed to make your life significantly easier when developing Perseus apps. Its primary functions are to build and serve your apps for you, meaning you can focus pretty much entirely on your application code and ignore all the boilerplate!</p>\\n<h2>Installation</h2>\\n<p>You can install the Perseus CLI by running <code>cargo install perseus-cli</code>, it should then be available as <code>perseus</code> on your system!</p>\\n<p>We currently don't provide independent executables installable without <code>cargo</code> because you'll need <code>cargo</code> and Rust generally to be able to write a Perseus app, and Perseus depends on the <code>cargo</code> commands being available, so there's really no point. That said, if you have a use-case for this, please <a href=\\"https://github.com/arctic-hen7/perseus/issues/new/choose\\">open an issue</a>!</p>\\n<h2>Setup</h2>\\n<p>Set up a library project with <code>cargo</code>, and add the following to the <code>[dependencies]</code> section in your <code>Cargo.toml</code>:</p>\\n<pre><code class=\\"language-toml\\">perseus = { path = &quot;../../packages/perseus&quot; }\\nsycamore = { version = &quot;0.5&quot;, features = [&quot;ssr&quot;] }\\nsycamore-router = &quot;0.5&quot;\\n# You only need these for pages that take properties\\nserde = { version = &quot;1&quot;, features = [&quot;derive&quot;] }\\nserde_json = &quot;1&quot;\\n</code></pre>\\n<p>Then, add a <code>lib.rs</code> file to your project under <code>src/</code> that contains the following:</p>\\n<pre><code class=\\"language-rust\\">mod pages;\\nmod error_pages;\\n\\nuse perseus::define_app;\\n\\n#[derive(perseus::Route)]\\npub enum Route {\\n    #[to(&quot;/&quot;)]\\n    Index,\\n    #[to(&quot;/about&quot;)]\\n    About,\\n    #[not_found]\\n    NotFound,\\n}\\ndefine_app!{\\n    root: &quot;#root&quot;,\\n    route: Route,\\n    router: {\\n        Route::Index =&gt; [\\n            &quot;index&quot;.to_string(),\\n            pages::index::template_fn()\\n        ],\\n        Route::About =&gt; [\\n            &quot;about&quot;.to_string(),\\n            pages::about::template_fn()\\n        ]\\n    }\\n    error_pages: crate::error_pages::get_error_pages(),\\n    templates: [\\n        crate::pages::index::get_template::&lt;G&gt;(),\\n        crate::pages::about::get_template::&lt;G&gt;()\\n    ]\\n    // config_manager: perseus::FsConfigManager::new()\\n}\\n</code></pre>\\n<p>This assumes you've defined a function to get your error pages elsewhere (you can read more about that <a href=\\"error_pages\\">here</a>), and that it's in a module called <code>error_pages</code>, you can customize that as needed.</p>\\n<p>The way the rest of this works is pretty simple. First off, you define a router with <a href=\\"https://sycamore-rs.netlify.app/docs/advanced/routing\\">Sycamore</a>, which defines each of your templates and the paths on your site that it will accept. This <strong>must</strong> have a variant explicitly named <code>NotFound</code>, that's handled for you. Then, you define your app itself, which takes the following properties (which need to be in order right now!):</p>\\n<ul>\\n<li><code>root</code> – the CSS selector for the element to render Perseus to, which should be unique, like an HTML <code>id</code></li>\\n<li><code>route</code> – the <code>enum</code> for your app's routes that you just defined</li>\\n<li><code>router</code> – a match-like input that handles each of the variants of your <code>route</code>, except <code>NotFound</code> (handled for you); each one gets mapped to the corresponding page's path (e.g. <code>Post</code> with slug <code>test</code> might be mapped to <code>format!(&quot;post/{}&quot;, slug)</code>), which shouldn't include a leading or trailing <code>/</code></li>\\n<li><code>error_pages</code> – your <a href=\\"error_pages\\">error pages</a></li>\\n<li><code>templates</code> – each of your templates, taking the <code>G</code> parameter (which will be used at runtime to render them for the server or the client)</li>\\n<li><code>config_manager</code> (optional) – the <a href=\\"config_manager\\">config manager</a> your app should use, default is the inbuilt <code>FsConfigManager::new()</code></li>\\n</ul>\\n<h2>Usage</h2>\\n<p>Once you've got that out of the way, go ahead and define your templates as usual, and then run the following command in your project's directory:</p>\\n<pre><code>perseus serve\\n</code></pre>\\n<p>That will automatically prepare the CLI to work with your app, then it will build your app and statically generate everything as appropriate (using any custom config manager your specified), and then it will serve your app on <a href=\\"http://localhost:8080\\">http://localhost:8080</a> by default!</p>\\n<p>If you want to change the host/port your app is served on, just set the <code>HOST</code>/<code>PORT</code> environment variables as you'd like.</p>\\n<h2>Other Commands</h2>\\n<p>If you just want to build your app, you can run <code>perseus build</code>. If you only want to prepare the CLI to interface with your app (which creates a <code>.perseus/</code> directory), you can run <code>perseus prep</code>.</p>\\n<p>If you want to serve pre-built files (which you'll have to generate with <code>perseus build</code>), you can run <code>perseus serve --no-build</code>.</p>\\n<h2>Watching</h2>\\n<p>All these commands act statically, they don't watch your code for any changes. This feature will be added <em>very</em> soon to the CLI, but until it is, we advise you to use a tool like <a href=\\"https://github.com/eradman/entr\\"><code>entr</code></a>, which you can make work with Perseus like so (on Linux):</p>\\n<pre><code>find . -not -path &quot;./.perseus/*&quot; -not -path &quot;./target/*&quot; | entr -s &quot;perseus serve&quot;\\n</code></pre>\\n<p>This just lists all files except those in <code>.perseus/</code> and <code>target/</code> and runs <code>perseus serve</code> on any changes. You should exclude anything else as necessary.</p>\\n","sidebar_content":"<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\\">Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\">Installation and Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\">Writing Your First Template</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\\">CLI</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\\">Templates</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\\">Routing</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\\">Building</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\\">Serving</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\\">Config Managers</a></li>\\n</ul>\\n","status":"Outdated","manifest":{"stable":"0.2.x","outdated":["0.1.x"],"beta":["0.3.x"],"history_map":{"0.2.x":"v0.2.3","0.3.x":"HEAD","0.1.x":"v0.1.4"}},"current_version":"0.1.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div class="flex justify-between"><a class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div class="tham-box"><div class="dark:bg-white tham-inner"></div></div></div><nav class="hidden md:flex"><ul class="mr-5 flex"><li class="m-3 p-1"><a class="px-2" href="en-US/docs">Docs</a></li><li class="m-3 p-1"><a class="px-2" href="en-US/comparisons">Comparisons</a></li></ul></nav></div><nav id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul><li class="m-3 p-1"><a href="en-US/docs" class="px-2">Docs</a></li><li class="m-3 p-1"><a href="en-US/comparisons" class="px-2">Comparisons</a></li></ul><hr/><div class="text-left p-3"><!----><select class="p-1 rounded-sm dark:bg-navy"><option value="next">Next (unreleased)</option><option value="0.3.x">v⁨0.3.x⁩ (beta)</option><option value="0.2.x">v⁨0.2.x⁩ (stable)</option><option value="0.1.x" selected="">v⁨0.1.x⁩ (outdated)</option></select><div class="docs-links-markdown"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div class="flex w-full"><div class="h-full hidden md:block max-w-xs w-full border-r"><div class="mr-5"><div class="text-left text-black dark:text-white p-3"><aside><!----><select class="p-1 rounded-sm dark:bg-navy"><option value="next">Next (unreleased)</option><option value="0.3.x">v⁨0.3.x⁩ (beta)</option><option value="0.2.x">v⁨0.2.x⁩ (stable)</option><option value="0.1.x" selected="">v⁨0.1.x⁩ (outdated)</option></select><div class="docs-links-markdown"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><div class="ring-4 ring-red-400 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white"><span style="fill: #f87171;" class="self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p>This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href="en-US/docs/0.2.x/intro" class="underline">here</a>.</p></div></div><main class="text-black dark:text-white"><div class="markdown"><h1>CLI</h1>
<p>Perseus has a CLI (command line interface) designed to make your life significantly easier when developing Perseus apps. Its primary functions are to build and serve your apps for you, meaning you can focus pretty much entirely on your application code and ignore all the boilerplate!</p>
<h2>Installation</h2>
<p>You can install the Perseus CLI by running <code>cargo install perseus-cli</code>, it should then be available as <code>perseus</code> on your system!</p>
<p>We currently don't provide independent executables installable without <code>cargo</code> because you'll need <code>cargo</code> and Rust generally to be able to write a Perseus app, and Perseus depends on the <code>cargo</code> commands being available, so there's really no point. That said, if you have a use-case for this, please <a href="https://github.com/arctic-hen7/perseus/issues/new/choose">open an issue</a>!</p>
<h2>Setup</h2>
<p>Set up a library project with <code>cargo</code>, and add the following to the <code>[dependencies]</code> section in your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">perseus = { path = &quot;../../packages/perseus&quot; }
sycamore = { version = &quot;0.5&quot;, features = [&quot;ssr&quot;] }
sycamore-router = &quot;0.5&quot;
# You only need these for pages that take properties
serde = { version = &quot;1&quot;, features = [&quot;derive&quot;] }
serde_json = &quot;1&quot;
</code></pre>
<p>Then, add a <code>lib.rs</code> file to your project under <code>src/</code> that contains the following:</p>
<pre><code class="language-rust">mod pages;
mod error_pages;

use perseus::define_app;

#[derive(perseus::Route)]
pub enum Route {
    #[to(&quot;/&quot;)]
    Index,
    #[to(&quot;/about&quot;)]
    About,
    #[not_found]
    NotFound,
}
define_app!{
    root: &quot;#root&quot;,
    route: Route,
    router: {
        Route::Index =&gt; [
            &quot;index&quot;.to_string(),
            pages::index::template_fn()
        ],
        Route::About =&gt; [
            &quot;about&quot;.to_string(),
            pages::about::template_fn()
        ]
    }
    error_pages: crate::error_pages::get_error_pages(),
    templates: [
        crate::pages::index::get_template::&lt;G&gt;(),
        crate::pages::about::get_template::&lt;G&gt;()
    ]
    // config_manager: perseus::FsConfigManager::new()
}
</code></pre>
<p>This assumes you've defined a function to get your error pages elsewhere (you can read more about that <a href="error_pages">here</a>), and that it's in a module called <code>error_pages</code>, you can customize that as needed.</p>
<p>The way the rest of this works is pretty simple. First off, you define a router with <a href="https://sycamore-rs.netlify.app/docs/advanced/routing">Sycamore</a>, which defines each of your templates and the paths on your site that it will accept. This <strong>must</strong> have a variant explicitly named <code>NotFound</code>, that's handled for you. Then, you define your app itself, which takes the following properties (which need to be in order right now!):</p>
<ul>
<li><code>root</code> – the CSS selector for the element to render Perseus to, which should be unique, like an HTML <code>id</code></li>
<li><code>route</code> – the <code>enum</code> for your app's routes that you just defined</li>
<li><code>router</code> – a match-like input that handles each of the variants of your <code>route</code>, except <code>NotFound</code> (handled for you); each one gets mapped to the corresponding page's path (e.g. <code>Post</code> with slug <code>test</code> might be mapped to <code>format!(&quot;post/{}&quot;, slug)</code>), which shouldn't include a leading or trailing <code>/</code></li>
<li><code>error_pages</code> – your <a href="error_pages">error pages</a></li>
<li><code>templates</code> – each of your templates, taking the <code>G</code> parameter (which will be used at runtime to render them for the server or the client)</li>
<li><code>config_manager</code> (optional) – the <a href="config_manager">config manager</a> your app should use, default is the inbuilt <code>FsConfigManager::new()</code></li>
</ul>
<h2>Usage</h2>
<p>Once you've got that out of the way, go ahead and define your templates as usual, and then run the following command in your project's directory:</p>
<pre><code>perseus serve
</code></pre>
<p>That will automatically prepare the CLI to work with your app, then it will build your app and statically generate everything as appropriate (using any custom config manager your specified), and then it will serve your app on <a href="http://localhost:8080">http://localhost:8080</a> by default!</p>
<p>If you want to change the host/port your app is served on, just set the <code>HOST</code>/<code>PORT</code> environment variables as you'd like.</p>
<h2>Other Commands</h2>
<p>If you just want to build your app, you can run <code>perseus build</code>. If you only want to prepare the CLI to interface with your app (which creates a <code>.perseus/</code> directory), you can run <code>perseus prep</code>.</p>
<p>If you want to serve pre-built files (which you'll have to generate with <code>perseus build</code>), you can run <code>perseus serve --no-build</code>.</p>
<h2>Watching</h2>
<p>All these commands act statically, they don't watch your code for any changes. This feature will be added <em>very</em> soon to the CLI, but until it is, we advise you to use a tool like <a href="https://github.com/eradman/entr"><code>entr</code></a>, which you can make work with Perseus like so (on Linux):</p>
<pre><code>find . -not -path &quot;./.perseus/*&quot; -not -path &quot;./target/*&quot; | entr -s &quot;perseus serve&quot;
</code></pre>
<p>This just lists all files except those in <code>.perseus/</code> and <code>target/</code> and runs <code>perseus serve</code> on any changes. You should exclude anything else as necessary.</p>
</div></main></div></div></div></div><footer class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p class="dark:text-white mx-5 text-center"><span>© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script defer="" src=".perseus/static/prism.js"></script><script>window.Prism.highlightAll();</script></div></div>
    </body>
</html>
