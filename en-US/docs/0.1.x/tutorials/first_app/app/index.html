<!DOCTYPE html>
<html class="light"><head><base href="https://framesurge.sh/perseus/" />
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href=".perseus/static/tailwind.css"/><link rel="stylesheet" href=".perseus/static/styles/style.css"/>
            <script type="module">window.__PERSEUS_RENDER_CFG = `{"docs/0.3.4/reference/hydration":"docs","docs/0.4.x/reference/hydration":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.1.x/error_pages":"docs","docs/0.4.x/reference/architecture":"docs","docs/reference/deploying/size":"docs","docs/next/fundamentals/routing":"docs","docs/0.1.x/routing":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/0.1.x/strategies/request_state":"docs","docs/next/fundamentals/i18n":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.1.x/intro":"docs","docs/next/fundamentals/hydration":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.1.x/templates":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/reference/strategies/amalgamation":"docs","docs/next/fundamentals/plugins":"docs","docs/next/fundamentals/compilation-times":"docs","docs/reference/exporting":"docs","docs/0.3.4/reference/styling":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/next/fundamentals/reactor":"docs","docs/reference/deploying/docker":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/reference/deploying/serverless":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.3.4/reference/cli":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/next/state/manual":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/core-principles":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/reference/snooping":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/0.2.x/debugging":"docs","docs/reference/strategies/revalidation":"docs","docs/0.4.x/reference/deploying":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/next/state/build":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/reference/plugins/publishing":"docs","docs/reference/error-pages":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.4.x/reference/state-generation":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.4.x/reference/exporting":"docs","docs/next/state/incremental":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/next/quickstart":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/next/fundamentals/styling":"docs","docs/reference/i18n/other-engines":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/next/intro":"docs","docs/reference/stores":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.1.x/serving":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.3.4/reference/views":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.3.4/reference/exporting":"docs","docs/reference/perseus-app":"docs","docs/next/state/helper":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.2.x/i18n/defining":"docs","docs/reference/plugins/tinker":"docs","docs/0.2.x/advanced/intro":"docs","docs/next/what-is-perseus":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/advanced/subsequent-loads":"docs","docs/next/first-app/generating-pages":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/intro":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/reference/plugins/writing":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/0.1.x/building":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/0.1.x/setup":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/next/fundamentals/head-headers":"docs","docs/next/capsules/intro":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/reference/deploying/serverful":"docs","docs/0.2.x/styling":"docs","docs/reference/views":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/next/state/freezing-thawing":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/0.4.x/reference/live-reloading-and-hsr":"docs","docs/next/faq":"docs","docs/0.2.x/second-app":"docs","docs/advanced/route-announcer":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.4.x/reference/state-platform":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/reference/styling":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/reference/templates/setting-headers":"docs","docs/reference/strategies/request-state":"docs","docs/next/capsules/capsules-vs-components":"docs","docs/reference/plugins/intro":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.4.x/reference/compilation-times":"docs","docs/next/first-app/deploying":"docs","docs/0.4.x/core-principles":"docs","docs/reference/i18n/using":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/0.2.x/strategies/request-state":"docs","docs/next/fundamentals/perseus-app":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/reference/state/hsr":"docs","docs/reference/plugins/control":"docs","docs/0.3.4/reference/updating":"docs","docs/0.2.x/views":"docs","docs/0.2.x/updating":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/next/capsules/using":"docs","docs/reference/ejecting":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/reference/templates/metadata-modification":"docs","docs/advanced/intro":"docs","docs/next/state/amalgamation":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.4/intro":"docs","docs/reference/debugging":"docs","docs/advanced/initial-loads":"docs","docs/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/next/fundamentals/js-interop":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/reference/cli":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.1.x/strategies/build_state":"docs","docs/reference/state/idb-freezing":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/0.3.4/reference/state/global":"docs","docs/0.1.x/arch":"docs","docs/advanced/arch":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/reference/strategies/build-state":"docs","docs/next/state/request":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/next/migrating":"docs","docs/what-is-perseus":"docs","docs/0.1.x/cli":"docs","docs/next/state/revalidation":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.4/reference/deploying/serverful":"docs","plugins":"plugins","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/reference/live-reloading":"docs","docs/0.2.x/ejecting":"docs","docs/0.2.x/advanced/arch":"docs","docs/tutorials/second-app":"docs","docs/0.3.4/reference/server-communication":"docs","docs/tutorials/hello-world":"docs","docs/next/first-app/error-handling":"docs","docs/reference/engines":"docs","docs/0.2.x/cli":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/0.3.4/what-is-perseus":"docs","docs/reference/index-view":"docs","docs/next/first-app/installation":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/reference/hydration":"docs","docs/0.3.4/core-principles":"docs","docs/next/state/browser":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.2.x/hello-world":"docs","docs/reference/strategies/incremental":"docs","docs/0.1.x/config_managers":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.4.x/intro":"docs","docs/reference/templates/intro":"docs","docs/next/fundamentals/static-content":"docs","docs/reference/state/global":"docs","docs/0.4.x/features":"docs","docs/0.2.x/intro":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.2.x/testing/intro":"docs","docs/reference/server-communication":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.2.x/i18n/intro":"docs","docs":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.2.x/config-managers":"docs","docs/reference/testing/fantoccini-basics":"docs","docs/reference/i18n/defining":"docs","docs/reference/state/freezing":"docs","docs/0.4.x/reference/initial_subsequent_loads":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.4.x/what-is-perseus":"docs","docs/reference/plugins/using":"docs","docs/next/fundamentals/preloading":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/next/state/global":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/next/first-app/dev-cycle":"docs","docs/reference/templates/router-state":"docs","docs/advanced/routing":"docs","docs/0.4.x/reference/faq":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/next/first-app/defining":"docs","docs/0.3.4/reference/static-content":"docs","docs/next/fundamentals/error-views":"docs","docs/0.3.4/reference/debugging":"docs","docs/reference/testing/manual":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/reference/testing/intro":"docs","docs/reference/strategies/build-paths":"docs","docs/reference/deploying/intro":"docs","docs/next/fundamentals/debugging":"docs","":"","docs/reference/updating":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/reference/plugins/functional":"docs","docs/0.3.4/reference/engines":"docs","docs/0.2.x/static-content":"docs","docs/reference/static-content":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/reference/define-app":"docs","docs/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.4.x/reference/i18n":"docs","docs/0.3.4/reference/stores":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/next/state/intro":"docs","docs/0.4.x/reference/router":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/reference/deploying/relative-paths":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.3.4/reference/plugins/intro":"docs","comparisons":"comparisons","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.2.x/deploying/intro":"docs","docs/reference/strategies/intro":"docs","docs/0.2.x/define-app":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/next/fundamentals/serving-exporting":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/next/core-principles":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/0.2.x/strategies/incremental":"docs","docs/reference/i18n/intro":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/next/fundamentals/testing":"docs","docs/tutorials/auth":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/next/state/suspense":"docs","docs/0.4.x/reference/plugins":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/reference/state/rx":"docs","docs/0.2.x/templates/intro":"docs","docs/0.2.x/i18n/using":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/reference/plugins/security":"docs","docs/0.4.x/reference/migrating":"docs"}`;

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script>
            <meta itemprop="__perseus_head_boundary" content="">
            
<title>Setting up the App Itself | Perseus Docs</title><link rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link rel="stylesheet" href=".perseus/static/prism.css"/>
            <script>
window.__PERSEUS_INITIAL_STATE = `{"content":"<h1>Setting up the App Itself</h1>\\n<p>Okay, you're over the hump! Now it's time to put your template into a functional app and get stuff happening in your browser!</p>\\n<h2>Defining a Router</h2>\\n<p>Perseus needs to know where to put your final pages, which can be defined with a router, which is defined through <a href=\\"https://github.com/sycamore-rs/sycamore\\">Sycamore</a> (which handles that side of things).</p>\\n<p>In <code>src/lib.rs</code>, replace everything other than <code>mod templates;</code> with the following:</p>\\n<pre><code class=\\"language-rust\\">use perseus::define_app;\\n\\n#[derive(perseus::Route)]\\npub enum Route {\\n    #[to(&quot;/&quot;)]\\n    Index,\\n    #[not_found]\\n    NotFound,\\n}\\n</code></pre>\\n<p>This imports a macro we'll use in a moment to define your app, and then it sets up an <code>enum</code> for each of your pages. Notice that the <code>NotFound</code> page is special, and note that Perseus will pretty much handle it for you.</p>\\n<p>All we've done for this simple app is defined an <code>Index</code> variant that will be served at the <code>/</code> path, the root of your app. Thus, it will be your landing page! But Perseus still needs you to connect that variant and the template we created in the last section.</p>\\n<h2>Error Pages</h2>\\n<p>But first, let's define some custom error pages for if your users go to a page that doesn't exist. To keep everything clean, we'll do this in a new file. Create <code>src/error_pages.rs</code> and put the following inside (making sure to add <code>mod error_pages;</code> to the top of <code>lib.rs</code>):</p>\\n<pre><code class=\\"language-rust\\">use perseus::ErrorPages;\\nuse sycamore::template;\\n\\npub fn get_error_pages() -&gt; ErrorPages {\\n    let mut error_pages = ErrorPages::new(Box::new(|_, _, _| {\\n        template! {\\n            p { &quot;Another error occurred.&quot; }\\n        }\\n    }));\\n    error_pages.add_page(\\n        404,\\n        Box::new(|_, _, _| {\\n            template! {\\n                p { &quot;Page not found.&quot; }\\n            }\\n        }),\\n    );\\n    error_pages.add_page(\\n        400,\\n        Box::new(|_, _, _| {\\n            template! {\\n                p { &quot;Client error occurred...&quot; }\\n            }\\n        }),\\n    );\\n\\n    error_pages\\n}\\n</code></pre>\\n<p>Here's what this code does:</p>\\n<ol>\\n<li>Import the Perseus <a href=\\"https://docs.rs/perseus/0.1.2/perseus/shell/struct.ErrorPages.html\\"><code>ErrorPages</code></a> <code>struct</code>, and the Sycamore templating macro for writing pseudo-HTML.</li>\\n<li>Define a single function that will get all your error pages (you'll call this in <code>lib.rs</code>).</li>\\n<li>Create a new instance of <code>ErrorPages</code> with the required fallback page. Error pages in Perseus are based on HTTP status codes (but you can create your own beyond this system if you need), and there are <em>a lot</em> of them, so the fallback page is used for all the status codes that you don't explicitly handle.</li>\\n<li>Add two new error pages, one for 404 (page not found) and another for 400 (generic client error). Note that the functions we provide have to be <code>Box</code>ed (so Rust can allocate the memory properly), and they'll also be provided three arguments, which you'll want to use in a production app. They are: the URL that caused the problem, the HTTP status code, and the error message that was the payload of the request.</li>\\n</ol>\\n<p>You can read more about error pages <a href=\\"https://arctic-hen7.github.io/perseus/error_pages.html\\">here</a>.</p>\\n<h2>Setting up Some HTML</h2>\\n<p>Perseus is just a web framework, and it needs some good old HTML to cling to, so you'll need to create an <code>index.html</code> file in the root of your project (<em>next</em> to <code>src/</code>). Then put the following inside:</p>\\n<pre><code class=\\"language-html\\">&lt;!DOCTYPE html&gt;\\n&lt;html lang=&quot;en&quot;&gt;\\n    &lt;head&gt;\\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;\\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;\\n        &lt;title&gt;Perseus Starter App&lt;/title&gt;\\n        &lt;!-- Importing this runs Perseus --&gt;\\n        &lt;script src=&quot;/.perseus/bundle.js&quot; defer&gt;&lt;/script&gt;\\n    &lt;/head&gt;\\n    &lt;body&gt;\\n        &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;\\n    &lt;/body&gt;\\n&lt;/html&gt;\\n</code></pre>\\n<p>This is all pretty typical, and you shouldn't have to worry about it. If you want to include analytics or some other script in your app, you can do it here, this HTML will be on every page of your app (including errors).</p>\\n<p>Note the single <code>&lt;script&gt;</code> that imports from <code>/.perseus/bundle.js</code>. That's the stuff that Rollup generates, and the CLI will serve it automatically. We also <code>defer</code> it for best practice.</p>\\n<h2>Defining Your App</h2>\\n<p>And now for the magic. Perseus does a ton of stuff to initialize your app, all of which can be abstracted through the <code>define_app!</code> macro that we imported earlier. Add the following to <code>lib.rs</code> (underneath your <code>Route</code> definition) to use it:</p>\\n<pre><code class=\\"language-rust\\">define_app! {\\n    root: &quot;#root&quot;,\\n    route: Route,\\n    router: {\\n        Route::Index =&gt; [\\n            &quot;index&quot;.to_string(),\\n            templates::index::template_fn()\\n        ]\\n    },\\n    error_pages: crate::error_pages::get_error_pages(),\\n    templates: [\\n        crate::templates::index::get_template::&lt;G&gt;()\\n    ]\\n}\\n</code></pre>\\n<p><em>Note: these properties currently <strong>must</strong> be in order, otherwise they won't work.</em></p>\\n<p>And again, here's an explanation:</p>\\n<ol>\\n<li>Define the CSS selector at which Perseus will render. This will be the <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> we defined in <code>index.html</code> in this case.</li>\\n<li>Tell Perseus about the <code>Route</code> <code>enum</code> you defined earlier.</li>\\n<li>Handle each of your roots with <code>match</code>-like syntax. You'll need to handle every variant of your <code>Route</code> <code>enum</code> here except the <code>NotFound</code> variant, which will use your 404 error page (or the fallback if you didn't define one for that status code). Each route that goes to the path at which it will be rendered (which may seem pointless, but it's <em>really</em> useful for more complex pages) and the <code>template_fn</code> helper function we defined in the last section.</li>\\n<li>Tell Perseus about your error pages.</li>\\n<li>Declare each of your templates, using that <code>get_template</code> helper function we defined in the last section. Notice the ambient <code>G</code> parameter here, which that function also took. That lets Perseus control whether it renders your page for the server (as for server-side rendering) or for the client (in the browser), and it needs to do both.</li>\\n</ol>\\n<h2>Ship It.</h2>\\n<p>It's time to run your app for the first time! If you're using an editor like VS Code with a Rust plugin, then you shouldn't have any compile-time errors in your code (if you do, that's a problem...).</p>\\n<p>We'll use the Perseus CLI to take care of everything from here. Go into your app's root folder (with <code>src/</code> and <code>Cargo.toml</code>) in a terminal, and run this command:</p>\\n<pre><code>perseus serve\\n</code></pre>\\n<p>This will take quite a while the first time, because Perseus is literally creating another crate in the background (check out the new <code>.perseus/</code> folder if you're interested) and building all its dependencies. Also note that your <code>.gitignore</code> has been added to to ignore the <code>.perseus/</code> folder, which can be rebuilt on any machine with the Perseus CLI installed, so there's no point having it in Git.</p>\\n<p>When all 5 steps have been completed, your app will be available in the browser! Go to <a href=\\"http://localhost:8080\\">http://localhost:8080</a> and you should see <code>Welcome to the app!</code> on your screen! If so, then congratulations, you've just created your first ever Perseus app! (And don't worry, running it will be much faster next time.)</p>\\n<p>You can see all the code put together <a href=\\"https://github.com/arctic-hen7/perseus-starter-app\\">here</a>.</p>\\n<h2>Further Reading</h2>\\n<p>Now that you've created your first app with Perseus, you're more than ready to venture into the rest of the documentation, which will explain each aspect of what you've achieved here in further detail, and will guide you in building more complex apps, particularly in the <a href=\\"https://arctic-hen7.github.io/perseus/strategies/intro.html\\">rendering strategies</a> section, which explains the real magic of Perseus' rendering.</p>\\n<p>So go forth and build something amazing!</p>\\n","current_version":"0.1.x","manifest":{"0.1.x":{"docs_rs":"0.1","git":"v0.1.4","state":"outdated"},"0.2.x":{"docs_rs":"0.2","git":"v0.2.3","state":"outdated"},"0.3.0-0.3.3":{"docs_rs":"0.3.3","git":"v0.3.3","state":"outdated"},"0.3.4":{"docs_rs":"0.3","git":"v0.3.6","state":"stable"},"0.4.x":{"docs_rs":"0.4.0-beta","git":"HEAD","state":"beta"}},"sidebar_content":"<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/setup\\">Setup</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/arch\\">Architecture</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\">Installation and Setup</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\">Writing Your First Template</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/cli\\">CLI</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/templates\\">Templates</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/routing\\">Routing</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/error_pages\\">Error Pages</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_paths\\">Build Paths</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_state\\">Build State</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/request_state\\">Request State</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/incremental\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/building\\">Building</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/serving\\">Serving</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/integrations/actix-web\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/config_managers\\">Config Managers</a></li>\\n</ul>\\n","status":"Outdated","title":"Setting up the App Itself"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>ðŸ’¯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "Â© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/framesurge/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script>
            <meta itemprop="__perseus_head_end" content="">
            <script>//</script>
            </head><body class="bg-white dark:bg-neutral-900"><div id="root"><header data-hk="8.0" class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk="8.1" class="flex justify-between items-center"><a data-hk="8.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font" href="en-US/">Perseus</a><div data-hk="8.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="8.4" class="tham-box"><div data-hk="8.5" class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk="8.6" class="hidden md:flex"><ul data-hk="8.7" class="mr-5 flex"><li data-hk="9.0" class="m-3 p-1 title-font"><a data-hk="9.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="9.2" class="m-3 p-1 title-font"><a data-hk="9.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="9.4" class="m-3 p-1 title-font"><a data-hk="9.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav data-hk="8.8" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center hidden"><ul data-hk="8.9" class="mr-5"><li data-hk="10.0" class="m-3 p-1 title-font"><a data-hk="10.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="10.2" class="m-3 p-1 title-font"><a data-hk="10.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="10.4" class="m-3 p-1 title-font"><a data-hk="10.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="2.0"/><div data-hk="2.1" class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk="2.2" class="flex w-full justify-center text-center"><div data-hk="2.3" class="max-w-3xl flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="4.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="4.5" value="next">Next (unreleased)</option><option data-hk="4.0" value="0.4.x">v0.4.x (beta)</option><option data-hk="4.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="4.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="4.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="4.3" value="0.1.x" selected="">v0.1.x (outdated)</option></select><!--/--></div></div><div data-hk="2.4" class="docs-links-markdown"><ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></div></nav></header><main data-hk="2.20" id="scroll-container"><div data-hk="2.5" class="flex w-full"><div data-hk="2.6" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk="2.7" class="mr-5"><div data-hk="2.8" class="text-left text-black dark:text-white p-3"><aside data-hk="2.9"><div data-hk="2.10" class="flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="6.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="6.5" value="next">Next (unreleased)</option><option data-hk="6.0" value="0.4.x">v0.4.x (beta)</option><option data-hk="6.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="6.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="6.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="6.3" value="0.1.x" selected="">v0.1.x (outdated)</option></select><!--/--></div><div data-hk="2.11" class="docs-links-markdown"><ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></aside></div></div></div><div data-hk="2.12" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk="2.13" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><!--#--><div data-hk="2.14" class="ring-4 ring-red-400 p-4 rounded-lg mt-1"><div data-hk="2.15" class="flex flex-col 2xs:flex-row dark:text-white"><span data-hk="2.16" class="self-center mr-2" style="fill: #f87171;"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="2.17">This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href="en-US/docs/0.3.4/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="2.18" class="text-black dark:text-white"><div data-hk="1.0" class="markdown min-w-0 pb-10"><h1>Setting up the App Itself</h1>
<p>Okay, you're over the hump! Now it's time to put your template into a functional app and get stuff happening in your browser!</p>
<h2>Defining a Router</h2>
<p>Perseus needs to know where to put your final pages, which can be defined with a router, which is defined through <a href="https://github.com/sycamore-rs/sycamore">Sycamore</a> (which handles that side of things).</p>
<p>In <code>src/lib.rs</code>, replace everything other than <code>mod templates;</code> with the following:</p>
<pre><code class="language-rust">use perseus::define_app;

#[derive(perseus::Route)]
pub enum Route {
    #[to(&quot;/&quot;)]
    Index,
    #[not_found]
    NotFound,
}
</code></pre>
<p>This imports a macro we'll use in a moment to define your app, and then it sets up an <code>enum</code> for each of your pages. Notice that the <code>NotFound</code> page is special, and note that Perseus will pretty much handle it for you.</p>
<p>All we've done for this simple app is defined an <code>Index</code> variant that will be served at the <code>/</code> path, the root of your app. Thus, it will be your landing page! But Perseus still needs you to connect that variant and the template we created in the last section.</p>
<h2>Error Pages</h2>
<p>But first, let's define some custom error pages for if your users go to a page that doesn't exist. To keep everything clean, we'll do this in a new file. Create <code>src/error_pages.rs</code> and put the following inside (making sure to add <code>mod error_pages;</code> to the top of <code>lib.rs</code>):</p>
<pre><code class="language-rust">use perseus::ErrorPages;
use sycamore::template;

pub fn get_error_pages() -&gt; ErrorPages {
    let mut error_pages = ErrorPages::new(Box::new(|_, _, _| {
        template! {
            p { &quot;Another error occurred.&quot; }
        }
    }));
    error_pages.add_page(
        404,
        Box::new(|_, _, _| {
            template! {
                p { &quot;Page not found.&quot; }
            }
        }),
    );
    error_pages.add_page(
        400,
        Box::new(|_, _, _| {
            template! {
                p { &quot;Client error occurred...&quot; }
            }
        }),
    );

    error_pages
}
</code></pre>
<p>Here's what this code does:</p>
<ol>
<li>Import the Perseus <a href="https://docs.rs/perseus/0.1.2/perseus/shell/struct.ErrorPages.html"><code>ErrorPages</code></a> <code>struct</code>, and the Sycamore templating macro for writing pseudo-HTML.</li>
<li>Define a single function that will get all your error pages (you'll call this in <code>lib.rs</code>).</li>
<li>Create a new instance of <code>ErrorPages</code> with the required fallback page. Error pages in Perseus are based on HTTP status codes (but you can create your own beyond this system if you need), and there are <em>a lot</em> of them, so the fallback page is used for all the status codes that you don't explicitly handle.</li>
<li>Add two new error pages, one for 404 (page not found) and another for 400 (generic client error). Note that the functions we provide have to be <code>Box</code>ed (so Rust can allocate the memory properly), and they'll also be provided three arguments, which you'll want to use in a production app. They are: the URL that caused the problem, the HTTP status code, and the error message that was the payload of the request.</li>
</ol>
<p>You can read more about error pages <a href="https://arctic-hen7.github.io/perseus/error_pages.html">here</a>.</p>
<h2>Setting up Some HTML</h2>
<p>Perseus is just a web framework, and it needs some good old HTML to cling to, so you'll need to create an <code>index.html</code> file in the root of your project (<em>next</em> to <code>src/</code>). Then put the following inside:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot; /&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
        &lt;title&gt;Perseus Starter App&lt;/title&gt;
        &lt;!-- Importing this runs Perseus --&gt;
        &lt;script src=&quot;/.perseus/bundle.js&quot; defer&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>This is all pretty typical, and you shouldn't have to worry about it. If you want to include analytics or some other script in your app, you can do it here, this HTML will be on every page of your app (including errors).</p>
<p>Note the single <code>&lt;script&gt;</code> that imports from <code>/.perseus/bundle.js</code>. That's the stuff that Rollup generates, and the CLI will serve it automatically. We also <code>defer</code> it for best practice.</p>
<h2>Defining Your App</h2>
<p>And now for the magic. Perseus does a ton of stuff to initialize your app, all of which can be abstracted through the <code>define_app!</code> macro that we imported earlier. Add the following to <code>lib.rs</code> (underneath your <code>Route</code> definition) to use it:</p>
<pre><code class="language-rust">define_app! {
    root: &quot;#root&quot;,
    route: Route,
    router: {
        Route::Index =&gt; [
            &quot;index&quot;.to_string(),
            templates::index::template_fn()
        ]
    },
    error_pages: crate::error_pages::get_error_pages(),
    templates: [
        crate::templates::index::get_template::&lt;G&gt;()
    ]
}
</code></pre>
<p><em>Note: these properties currently <strong>must</strong> be in order, otherwise they won't work.</em></p>
<p>And again, here's an explanation:</p>
<ol>
<li>Define the CSS selector at which Perseus will render. This will be the <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> we defined in <code>index.html</code> in this case.</li>
<li>Tell Perseus about the <code>Route</code> <code>enum</code> you defined earlier.</li>
<li>Handle each of your roots with <code>match</code>-like syntax. You'll need to handle every variant of your <code>Route</code> <code>enum</code> here except the <code>NotFound</code> variant, which will use your 404 error page (or the fallback if you didn't define one for that status code). Each route that goes to the path at which it will be rendered (which may seem pointless, but it's <em>really</em> useful for more complex pages) and the <code>template_fn</code> helper function we defined in the last section.</li>
<li>Tell Perseus about your error pages.</li>
<li>Declare each of your templates, using that <code>get_template</code> helper function we defined in the last section. Notice the ambient <code>G</code> parameter here, which that function also took. That lets Perseus control whether it renders your page for the server (as for server-side rendering) or for the client (in the browser), and it needs to do both.</li>
</ol>
<h2>Ship It.</h2>
<p>It's time to run your app for the first time! If you're using an editor like VS Code with a Rust plugin, then you shouldn't have any compile-time errors in your code (if you do, that's a problem...).</p>
<p>We'll use the Perseus CLI to take care of everything from here. Go into your app's root folder (with <code>src/</code> and <code>Cargo.toml</code>) in a terminal, and run this command:</p>
<pre><code>perseus serve
</code></pre>
<p>This will take quite a while the first time, because Perseus is literally creating another crate in the background (check out the new <code>.perseus/</code> folder if you're interested) and building all its dependencies. Also note that your <code>.gitignore</code> has been added to to ignore the <code>.perseus/</code> folder, which can be rebuilt on any machine with the Perseus CLI installed, so there's no point having it in Git.</p>
<p>When all 5 steps have been completed, your app will be available in the browser! Go to <a href="http://localhost:8080">http://localhost:8080</a> and you should see <code>Welcome to the app!</code> on your screen! If so, then congratulations, you've just created your first ever Perseus app! (And don't worry, running it will be much faster next time.)</p>
<p>You can see all the code put together <a href="https://github.com/arctic-hen7/perseus-starter-app">here</a>.</p>
<h2>Further Reading</h2>
<p>Now that you've created your first app with Perseus, you're more than ready to venture into the rest of the documentation, which will explain each aspect of what you've achieved here in further detail, and will guide you in building more complex apps, particularly in the <a href="https://arctic-hen7.github.io/perseus/strategies/intro.html">rendering strategies</a> section, which explains the real magic of Perseus' rendering.</p>
<p>So go forth and build something amazing!</p>
</div></main></div><div data-hk="2.19" class="row-start-2"><footer data-hk="7.0" class="w-full flex justify-center py-5 bg-black text-white"><p data-hk="7.1" class="mx-5 text-center"><span data-hk="7.2">Â© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> 2021-2023, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer></div></div></div></main><!----><script data-hk="0.0" src=".perseus/static/prism.js" defer=""></script><script data-hk="0.1">window.Prism.highlightAll();</script></div><div id="__perseus_popup_error"></div></body></html>