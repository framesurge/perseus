<!DOCTYPE html>
<html class="light"><head><base href="https://framesurge.sh/perseus/" />
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href=".perseus/static/tailwind.css"/><link rel="stylesheet" href=".perseus/static/styles/style.css"/>
            <script type="module">window.__PERSEUS_RENDER_CFG = '{"docs/0.3.0-0.3.3/intro":"docs","docs/reference/engines":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.4.x/getting-started/first-app":"docs","docs/0.1.x/config_managers":"docs","docs/reference/i18n/intro":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/reference/deploying/serverless":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.1.x/intro":"docs","docs/reference/i18n/translations-managers":"docs","docs/0.3.4/advanced/routing":"docs","docs/reference/templates/setting-headers":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.4.x/reference/compilation-times":"docs","docs/next/getting-started/installation":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/next/reference/state-generation":"docs","docs/next/reference/i18n":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/reference/deploying/intro":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/reference/server-communication":"docs","docs/0.1.x/templates":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/reference/deploying/size":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/0.2.x/views":"docs","docs/reference/hydration":"docs","comparisons":"comparisons","docs/reference/templates/metadata-modification":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/0.2.x/cli":"docs","docs/reference/strategies/incremental":"docs","docs/next/what-is-perseus":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/reference/strategies/build-state":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.4.x/reference/plugins":"docs","docs/next/reference/compilation-times":"docs","docs/0.2.x/testing/intro":"docs","docs/0.4.x/reference/initial_subsequent_loads":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/reference/i18n/other-engines":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs":"docs","docs/0.2.x/debugging":"docs","plugins":"plugins","docs/reference/plugins/security":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.2.x/styling":"docs","docs/0.2.x/static-content":"docs","docs/tutorials/hello-world":"docs","docs/0.4.x/reference/state-generation":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/reference/state/freezing":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/0.4.x/features":"docs","docs/reference/snooping":"docs","docs/reference/state/hsr":"docs","docs/0.4.x/reference/i18n":"docs","docs/next/reference/deploying":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.1.x/cli":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/next/intro":"docs","docs/next/tutorials/second-app":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.4.x/reference/faq":"docs","docs/reference/deploying/serverful":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/reference/updating":"docs","docs/reference/live-reloading":"docs","docs/0.3.4/reference/server-communication":"docs","docs/0.4.x/reference/router":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/0.2.x/define-app":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.4/what-is-perseus":"docs","docs/reference/plugins/functional":"docs","docs/0.3.4/intro":"docs","docs/reference/stores":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/reference/views":"docs","docs/0.2.x/i18n/using":"docs","docs/reference/plugins/control":"docs","docs/0.2.x/i18n/intro":"docs","docs/reference/strategies/amalgamation":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/0.4.x/intro":"docs","docs/reference/state/global":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/reference/error-pages":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/0.2.x/hello-world":"docs","docs/next/features":"docs","docs/reference/strategies/intro":"docs","docs/reference/define-app":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/reference/plugins/publishing":"docs","docs/0.4.x/reference/architecture":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/reference/router":"docs","docs/0.4.x/reference/exporting":"docs","docs/advanced/routing":"docs","docs/0.3.4/reference/static-content":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/reference/exporting":"docs","index":"index","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/reference/cli":"docs","docs/advanced/subsequent-loads":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/intro":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.3.4/reference/state/global":"docs","docs/0.4.x/getting-started/installation":"docs","docs/0.3.4/reference/engines":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/reference/plugins/using":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/reference/plugins/writing":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/next/reference/exporting":"docs","docs/0.2.x/i18n/defining":"docs","docs/reference/testing/manual":"docs","docs/reference/static-content":"docs","docs/next/reference/migrating":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.3.4/reference/views":"docs","docs/reference/testing/intro":"docs","docs/0.4.x/getting-started/intro":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/reference/ejecting":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/reference/deploying/docker":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.1.x/setup":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.1.x/error_pages":"docs","docs/advanced/intro":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/reference/index-view":"docs","docs/0.2.x/intro":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/reference/strategies/revalidation":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/next/core-principles":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/reference/perseus-app":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/0.3.4/reference/exporting":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.1.x/routing":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/next/reference/hydration":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/reference/templates/intro":"docs","docs/0.4.x/reference/live-reloading-and-hsr":"docs","docs/next/reference/plugins":"docs","docs/0.1.x/arch":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.4.x/reference/hydration":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/advanced/arch":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/what-is-perseus":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.1.x/building":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/next/reference/live-reloading-and-hsr":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.4.x/reference/deploying":"docs","docs/0.2.x/ejecting":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/advanced/intro":"docs","docs/reference/debugging":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/debugging":"docs","docs/core-principles":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/0.3.4/reference/cli":"docs","docs/0.3.4/reference/updating":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/0.2.x/updating":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.1.x/serving":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/tutorials/second-app":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/reference/styling":"docs","docs/reference/strategies/request-state":"docs","docs/0.4.x/reference/migrating":"docs","docs/0.3.4/reference/ejecting":"docs","docs/next/reference/faq":"docs","docs/reference/deploying/relative-paths":"docs","docs/advanced/route-announcer":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.3.4/reference/stores":"docs","docs/0.4.x/tutorials/second-app":"docs","docs/advanced/initial-loads":"docs","docs/reference/plugins/tinker":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.4/core-principles":"docs","docs/next/reference/initial_subsequent_loads":"docs","docs/0.2.x/second-app":"docs","docs/next/getting-started/intro":"docs","docs/0.3.4/reference/styling":"docs","docs/reference/i18n/using":"docs","docs/reference/state/rx":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/0.4.x/core-principles":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/next/getting-started/first-app":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/reference/strategies/build-paths":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/tutorials/auth":"docs","docs/next/reference/architecture":"docs","docs/reference/i18n/defining":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs"}';

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();
        

window.__PERSEUS_GLOBAL_STATE = `None`;</script>
            <meta itemprop="__perseus_head_boundary" content="">
            
<title>Your First App | Perseus Docs</title><link rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link rel="stylesheet" href=".perseus/static/prism.css"/>
            <script>
window.__PERSEUS_INITIAL_STATE = `{"title":"Your First App","content":"<h1>Your First App</h1>\\n<p>With a basic app scaffold all set up, it's time to get into the nitty-gritty of building a Perseus app. Somewhat humorously, the hardest part to wrap your head around as a beginner is probably going to be the <code>Cargo.toml</code> we're about to set up. It should look something like the following.</p>\\n<pre><code class=\\"language-toml\\">[package]\\nname = &quot;my-app&quot;\\nversion = &quot;0.1.0&quot;\\nedition = &quot;2021&quot;\\n\\n[dependencies]\\nperseus = { version = &quot;=0.4.0-beta.9&quot;, features = [ &quot;hydrate&quot; ] }\\nsycamore = &quot;^0.8.1&quot;\\n\\n[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]\\ntokio = { version = &quot;1&quot;, features = [ &quot;macros&quot;, &quot;rt&quot;, &quot;rt-multi-thread&quot; ] }\\nperseus-warp = { version = &quot;=0.4.0-beta.9&quot;, features = [ &quot;dflt-server&quot; ] }\\n\\n[target.'cfg(target_arch = &quot;wasm32&quot;)'.dependencies]\\n\\n</code></pre>\\n<details>\\n<summary>Excuse me??</summary>\\n<p>The first section is still pretty straightforward, just defining the name and version of your app's package. The line after that, <code>edition = &quot;2021&quot;</code>, tells Rust to use a specific version of itself. There's also a 2018 version and a 2015 version, though Perseus won't work with either of those, as it needs some features only introduced in 2021. That version also includes some comfort features that will make your life easier at times.</p>\\n<p>Now we'll address the interesting dependencies setup. Essentially, we've got three dependency sections. The reason for this is because Perseus runs partly on a server, and partially in a browser. The former is called the <em>engine</em>, which is responsible for building and serving your app. The latter is just called the browser, which is where Perseus makes your app work for your users.</p>\\n<p>These two environments couldn't really be more different, and, while Perseus tries to minimize the complexities of managing both from your perspective, there are <em>many</em> Rust packages that won't run in the browser yet. By having separate dependency sections for each environment, we can decide explicitly which packages we want to be available where.</p>\\n<p>The first section is the usual one, pulling in dependencies that we want everywhere. Both <code>perseus</code> and <code>sycamore</code> are needed in the browser and on the server-side, so we put them here. Most of the packages you bring in yourself will go here too. As a general rule of thumb, put stuff here unless you're getting errors or trying to optimize your app (which we have a whole section on).</p>\\n<p>The second is <code>[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]</code>, which looks scary, but is actually pretty simple when you think about it. It defines the <code>dependencies</code> section only on the <code>target</code> (operating system) that matches the condition <code>cfg(not(target_arch = &quot;wasm32&quot;))</code> --- the target that's not <code>wasm32</code>, which is Rust's way of talking about the browser. This section contains engine-only dependencies. In other words, the code that runs in the browser will have no clue these even exist. We put two things in here: <code>tokio</code> and <code>perseus-warp</code>. The first is an asynchronous runtime that Perseus uses in the background (this means we can do stuff like compile three parts of your app at the same time, which speeds up builds). The second is one of those integration crates we were talking about earlier, with the <code>dflt-server</code> feature enabled, which makes it expose an extra function that just makes us a server that we don't have to think about. Unless you're writing custom API routes, this is all you need.</p>\\n<p>The third section is exactly the same as the previous, just without that <code>not(...)</code>, so this one defines dependencies that we use in the browser only. We've put <code>wasm-bindgen</code> here, which we could compile on the server, but it would be a little pointless, since Perseus only uses it behind the scenes in making your app work in the browser. (This is needed for a macro that a Perseus macro defines, which is why you have to import it yourself.)</p>\\n</details>\\n<p>Next, we can get on with the app's actual code! Head over to <code>src/main.rs</code> and put the following inside:</p>\\n<pre><code class=\\"language-rust\\">use perseus::prelude::*;\\nuse sycamore::prelude::*;\\n\\n#[perseus::main(perseus_integration::dflt_server)]\\npub fn main&lt;G: Html&gt;() -&gt; PerseusApp&lt;G&gt; {\\n    PerseusApp::new()\\n        .template(|| {\\n            Template::new(&quot;index&quot;).template(|cx, _| {\\n                view! { cx,\\n                    p { &quot;Hello World!&quot; }\\n                }\\n            })\\n        })\\n        .error_pages(|| ErrorPages::new(\\n            |cx, url, status, err, _| view! { cx,\\n                p { (format!(&quot;An error with HTTP code {} occurred at '{}': '{}'.&quot;, status, url, err)) }\\n            },\\n            |cx, _, _, _, _| view! { cx,\\n                title { &quot;Error&quot; }\\n            })\\n        )\\n}\\n\\n</code></pre>\\n<p>This is your entire first app! Note that most Perseus apps won't actually look like this, we've condensed everything into 17 lines of code for simplicity.</p>\\n<details>\\n<summary>So that means something, does it?</summary>\\n<p>We've started off with some simple imports that we need, which we'll talk about as we get to them. The really important thing here is the <code>main()</code> function, which is annotated with the <code>#[perseus::main()]</code> <em>proc macro</em> (these are nifty things in Rust that let you define something, like a function, and then let the macro modify it). This macro isn't necessary, but it's very good for small apps, because there's actually fair bit of stuff happening behind the scenes here.</p>\\n<p>We also give that macro an argument, <code>perseus_integration::dflt_server</code>. You should change this to whatever integration you're using (we set up <code>perseus_warp</code> earlier). Every integration has a feature called <code>dflt-server</code> (which we enabled earlier in <code>Cargo.toml</code>) that exposes a function called <code>dflt_server</code> (notice how the packages use hyphens and the code uses underscores --- this is a Rust convention).</p>\\n<p>As you might have inferred, the argument we provide to the <code>#[perseus::main()]</code> macro is the function it will use to create a server for our app! You can provide something like <code>dflt_server</code> here if you don't want to think about that much more, or you can define an expansive API and use that here instead! (Note that there's actually a much better way to do this, which is addressed much later on.)</p>\\n<p>This function also takes a <em>generic</em>, or <em>type parameter</em>, called <code>G</code>. We use this to return a <a href=\\"https://docs.rs/perseus/0.4.0-beta/perseus/type.PerseusApp.html\\"><code>PerseusApp</code></a> (which is the construct that contains all the information about our app) that uses <code>G</code>. This is essentially saying that we want to return a <code>PerseusApp</code> for something that implements the <code>Html</code> trait, which we imported earlier. This is Sycamore's way of expressing that this function can either return something designed for the browser, or for the engine. Specifically, the engine uses <code>SsrNode</code> (server-side rendering), and the browser uses <code>DomNode</code>/<code>HydrateNode</code>. Don't worry though, you don't need to understand these distinctions just yet.</p>\\n<p>The body of the function is where the magic happens: we define a new <code>PerseusApp</code> with our one template and some error pages. The template is called <code>index</code>, which is a special name that means it will be hosted at the index of our site --- it will be the landing page. The code for that template is a <code>view! { .. }</code>, which comes from Sycamore, and it's how we write things that the user can see. If you've used HTML before, this is the Rust version of that. It might look a bit daunting at first, but most people tend to warm to it fairly well after using it a little.</p>\\n<p>All this <code>view! { .. }</code> defines is a <code>p</code>, which is equivalent to the HTML <code>&lt;p&gt;&lt;/p&gt;</code>, a paragraph element. This is where we can put text for our site. The contents are the universal phrase, <code>Hello World!</code>.</p>\\n<p>You might be scratching your head about that <code>cx</code> though. Understandable. This is the <em>reactive scope</em> of the view, which is something complicated that you would need to understand much more about if you were using normal Sycamore. In Perseus, all you really need to know for the basics is that this is a thing that you need to give to every <code>view! { .. }</code>, and that your templates always take it as an argument. If you want to know what this actually does, you can read more about it <a href=\\"https://sycamore-rs.netlify.app/docs/basics/reactivity\\">here</a>.</p>\\n<p>The last thing to note is the <code>ErrorPages</code>, which are an innovation of Perseus that force you to write fallback pages for situations like the user going to a page that doesn't exist (the infamous 404 error). You could leave these out in development, but when you go to production, Perseus will scream at you. The error pages we've defined here are dead simple: we're just using the universal fallback provided to <code>ErrorPages::new()</code>, which is used for everything, unless you provide specific error pages for errors like 404, 500, etc. This fallback page is told the URL the error occurred on, the HTTP status code, and the error itself.</p>\\n</details>\\n<p>With that all out of the way, add the following to <code>.gitignore</code>:</p>\\n<pre><code class=\\"language-gitignore\\">dist/\\n</code></pre>\\n<p>That just tells Git not to pay any attention to the build artifacts that Perseus is about to create. Now run this command:</p>\\n<pre><code class=\\"language-sh\\">perseus serve -w\\n</code></pre>\\n<p>Because this is the first time building your app, Cargo has to pull in a whole lot of stuff behind the scenes, so now would be a good time to fix yourself a beverage. Once it's done, you can see your app at <a href=\\"http://localhost:8080\\">http://localhost:8080</a>, and you should be greeted pleasantly by your app! If you want to check out the error pages, go to <a href=\\"http://localhost:8080/blah\\">http://localhost:8080/blah</a>, or any other page that doesn't exist.</p>\\n<p>Now, try updating that <code>Hello World!</code> message to be a little more like the first of its kind: <code>Hello, world!</code> Once you save the file, the CLI will immediately get to work rebuilding your app, and your browser will reload automatically when it's done!</p>\\n<p><em>Note: if you're finding the build process really slow, or if you're on older hardware, you should try switching to Rust's <a href=\\"https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#rustup-and-the-role-of-rust-nightly\\">nightly channel</a> for a faster compiler experience.</em></p>\\n<p>Now stop that command with <code>Ctrl+C</code> and run <code>perseus deploy</code> instead. This will take a very long time, but it will produce a <code>pkg/</code> directory that you could put on a real-world server, and it would be completely ready to serve your brand-new app! Because this app is so simple, you could even use <code>perseus deploy -e</code> instead to just produce a bunch of flat files that you could host from anywhere without needing a proper server.</p>\\n<p>All this has just scratched the surface of what's possible with Perseus, and there's so much more to learn! The next big things are about understanding some of the core principles behind Perseus, which should help you to understand why any of what you just did actually worked.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/intro\\">Getting Started</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/installation\\">Installation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/first-app\\">Your First App</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/features\\">Feature Discovery Terminal</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/compilation-times\\">Improving Compilation Times</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/state-generation\\">State Generation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/live-reloading-and-hsr\\">Live Reloading and HSR</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/i18n\\">Internationalization</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/plugins\\">Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/deploying\\">Deploying</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/architecture\\">Architecture Details</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/router\\">Router</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/initial_subsequent_loads\\">Initial vs. Subsequent Loads</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/migrating\\">Migrating from v0.3.x</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/faq\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n","status":"Beta","manifest":{"0.3.0-0.3.3":{"state":"outdated","git":"v0.3.3","docs_rs":"0.3.3"},"0.1.x":{"state":"outdated","git":"v0.1.4","docs_rs":"0.1"},"0.4.x":{"state":"beta","git":"HEAD","docs_rs":"0.4.0-beta"},"0.2.x":{"state":"outdated","git":"v0.2.3","docs_rs":"0.2"},"0.3.4":{"state":"stable","git":"eccf137032fbe8e6507be9e9317edc16e7576a4f","docs_rs":"0.3"}},"current_version":"0.4.x"}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>ðŸ’¯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "Â© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/arctic-hen7/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script>
            </head><body class="bg-white dark:bg-neutral-900"><div id="root"><header data-hk="8.0" class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk="8.1" class="flex justify-between items-center"><a data-hk="8.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font" href="en-US/">Perseus</a><div data-hk="8.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="8.4" class="tham-box"><div data-hk="8.5" class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk="8.6" class="hidden md:flex"><ul data-hk="8.7" class="mr-5 flex"><li data-hk="9.0" class="m-3 p-1 title-font"><a data-hk="9.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="9.2" class="m-3 p-1 title-font"><a data-hk="9.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="9.4" class="m-3 p-1 title-font"><a data-hk="9.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav data-hk="8.8" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center hidden"><ul data-hk="8.9" class="mr-5"><li data-hk="10.0" class="m-3 p-1 title-font"><a data-hk="10.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="10.2" class="m-3 p-1 title-font"><a data-hk="10.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="10.4" class="m-3 p-1 title-font"><a data-hk="10.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="2.0"/><div data-hk="2.1" class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk="2.2" class="flex w-full justify-center text-center"><div data-hk="2.3" class="max-w-3xl flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="4.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="4.5" value="next">Next (unreleased)</option><option data-hk="4.0" value="0.4.x" selected="">v0.4.x (beta)</option><option data-hk="4.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="4.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="4.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="4.3" value="0.1.x">v0.1.x (outdated)</option></select><!--/--></div></div><div data-hk="2.4" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/intro">Getting Started</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/installation">Installation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/first-app">Your First App</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles">Core Principles</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/tutorials/second-app">Your Second App</a></li>
</ul>
<h1>Reference</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/features">Feature Discovery Terminal</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/compilation-times">Improving Compilation Times</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/state-generation">State Generation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/live-reloading-and-hsr">Live Reloading and HSR</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/i18n">Internationalization</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/hydration">Hydration</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/exporting">Static Exporting</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/plugins">Plugins</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/deploying">Deploying</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/architecture">Architecture Details</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/router">Router</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/initial_subsequent_loads">Initial vs. Subsequent Loads</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/faq">Common Pitfalls and Known Bugs</a></li>
</ul>
</div></div></nav></header><main data-hk="2.20" id="scroll-container"><div data-hk="2.5" class="flex w-full"><div data-hk="2.6" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk="2.7" class="mr-5"><div data-hk="2.8" class="text-left text-black dark:text-white p-3"><aside data-hk="2.9"><div data-hk="2.10" class="flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="6.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="6.5" value="next">Next (unreleased)</option><option data-hk="6.0" value="0.4.x" selected="">v0.4.x (beta)</option><option data-hk="6.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="6.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="6.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="6.3" value="0.1.x">v0.1.x (outdated)</option></select><!--/--></div><div data-hk="2.11" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/intro">Getting Started</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/installation">Installation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/getting-started/first-app">Your First App</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles">Core Principles</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/tutorials/second-app">Your Second App</a></li>
</ul>
<h1>Reference</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/features">Feature Discovery Terminal</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/compilation-times">Improving Compilation Times</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/state-generation">State Generation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/live-reloading-and-hsr">Live Reloading and HSR</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/i18n">Internationalization</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/hydration">Hydration</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/exporting">Static Exporting</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/plugins">Plugins</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/deploying">Deploying</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/architecture">Architecture Details</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/router">Router</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/initial_subsequent_loads">Initial vs. Subsequent Loads</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/0.4.x/reference/faq">Common Pitfalls and Known Bugs</a></li>
</ul>
</div></aside></div></div></div><div data-hk="2.12" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk="2.13" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><!--#--><div data-hk="2.14" class="ring-4 ring-yellow-300 p-4 rounded-lg mt-1"><div data-hk="2.15" class="flex flex-col 2xs:flex-row dark:text-white"><span data-hk="2.16" class="self-center mr-2" style="fill: #fcd34d;"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 5.99L19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z"/></svg></span><p data-hk="2.17">This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href="en-US/docs/0.3.4/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="2.18" class="text-black dark:text-white"><div data-hk="1.0" class="markdown min-w-0"><h1>Your First App</h1>
<p>With a basic app scaffold all set up, it's time to get into the nitty-gritty of building a Perseus app. Somewhat humorously, the hardest part to wrap your head around as a beginner is probably going to be the <code>Cargo.toml</code> we're about to set up. It should look something like the following.</p>
<pre><code class="language-toml">[package]
name = &quot;my-app&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

[dependencies]
perseus = { version = &quot;=0.4.0-beta.9&quot;, features = [ &quot;hydrate&quot; ] }
sycamore = &quot;^0.8.1&quot;

[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]
tokio = { version = &quot;1&quot;, features = [ &quot;macros&quot;, &quot;rt&quot;, &quot;rt-multi-thread&quot; ] }
perseus-warp = { version = &quot;=0.4.0-beta.9&quot;, features = [ &quot;dflt-server&quot; ] }

[target.'cfg(target_arch = &quot;wasm32&quot;)'.dependencies]

</code></pre>
<details>
<summary>Excuse me??</summary>
<p>The first section is still pretty straightforward, just defining the name and version of your app's package. The line after that, <code>edition = &quot;2021&quot;</code>, tells Rust to use a specific version of itself. There's also a 2018 version and a 2015 version, though Perseus won't work with either of those, as it needs some features only introduced in 2021. That version also includes some comfort features that will make your life easier at times.</p>
<p>Now we'll address the interesting dependencies setup. Essentially, we've got three dependency sections. The reason for this is because Perseus runs partly on a server, and partially in a browser. The former is called the <em>engine</em>, which is responsible for building and serving your app. The latter is just called the browser, which is where Perseus makes your app work for your users.</p>
<p>These two environments couldn't really be more different, and, while Perseus tries to minimize the complexities of managing both from your perspective, there are <em>many</em> Rust packages that won't run in the browser yet. By having separate dependency sections for each environment, we can decide explicitly which packages we want to be available where.</p>
<p>The first section is the usual one, pulling in dependencies that we want everywhere. Both <code>perseus</code> and <code>sycamore</code> are needed in the browser and on the server-side, so we put them here. Most of the packages you bring in yourself will go here too. As a general rule of thumb, put stuff here unless you're getting errors or trying to optimize your app (which we have a whole section on).</p>
<p>The second is <code>[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]</code>, which looks scary, but is actually pretty simple when you think about it. It defines the <code>dependencies</code> section only on the <code>target</code> (operating system) that matches the condition <code>cfg(not(target_arch = &quot;wasm32&quot;))</code> --- the target that's not <code>wasm32</code>, which is Rust's way of talking about the browser. This section contains engine-only dependencies. In other words, the code that runs in the browser will have no clue these even exist. We put two things in here: <code>tokio</code> and <code>perseus-warp</code>. The first is an asynchronous runtime that Perseus uses in the background (this means we can do stuff like compile three parts of your app at the same time, which speeds up builds). The second is one of those integration crates we were talking about earlier, with the <code>dflt-server</code> feature enabled, which makes it expose an extra function that just makes us a server that we don't have to think about. Unless you're writing custom API routes, this is all you need.</p>
<p>The third section is exactly the same as the previous, just without that <code>not(...)</code>, so this one defines dependencies that we use in the browser only. We've put <code>wasm-bindgen</code> here, which we could compile on the server, but it would be a little pointless, since Perseus only uses it behind the scenes in making your app work in the browser. (This is needed for a macro that a Perseus macro defines, which is why you have to import it yourself.)</p>
</details>
<p>Next, we can get on with the app's actual code! Head over to <code>src/main.rs</code> and put the following inside:</p>
<pre><code class="language-rust">use perseus::prelude::*;
use sycamore::prelude::*;

#[perseus::main(perseus_integration::dflt_server)]
pub fn main&lt;G: Html&gt;() -&gt; PerseusApp&lt;G&gt; {
    PerseusApp::new()
        .template(|| {
            Template::new(&quot;index&quot;).template(|cx, _| {
                view! { cx,
                    p { &quot;Hello World!&quot; }
                }
            })
        })
        .error_pages(|| ErrorPages::new(
            |cx, url, status, err, _| view! { cx,
                p { (format!(&quot;An error with HTTP code {} occurred at '{}': '{}'.&quot;, status, url, err)) }
            },
            |cx, _, _, _, _| view! { cx,
                title { &quot;Error&quot; }
            })
        )
}

</code></pre>
<p>This is your entire first app! Note that most Perseus apps won't actually look like this, we've condensed everything into 17 lines of code for simplicity.</p>
<details>
<summary>So that means something, does it?</summary>
<p>We've started off with some simple imports that we need, which we'll talk about as we get to them. The really important thing here is the <code>main()</code> function, which is annotated with the <code>#[perseus::main()]</code> <em>proc macro</em> (these are nifty things in Rust that let you define something, like a function, and then let the macro modify it). This macro isn't necessary, but it's very good for small apps, because there's actually fair bit of stuff happening behind the scenes here.</p>
<p>We also give that macro an argument, <code>perseus_integration::dflt_server</code>. You should change this to whatever integration you're using (we set up <code>perseus_warp</code> earlier). Every integration has a feature called <code>dflt-server</code> (which we enabled earlier in <code>Cargo.toml</code>) that exposes a function called <code>dflt_server</code> (notice how the packages use hyphens and the code uses underscores --- this is a Rust convention).</p>
<p>As you might have inferred, the argument we provide to the <code>#[perseus::main()]</code> macro is the function it will use to create a server for our app! You can provide something like <code>dflt_server</code> here if you don't want to think about that much more, or you can define an expansive API and use that here instead! (Note that there's actually a much better way to do this, which is addressed much later on.)</p>
<p>This function also takes a <em>generic</em>, or <em>type parameter</em>, called <code>G</code>. We use this to return a <a href="https://docs.rs/perseus/0.4.0-beta/perseus/type.PerseusApp.html"><code>PerseusApp</code></a> (which is the construct that contains all the information about our app) that uses <code>G</code>. This is essentially saying that we want to return a <code>PerseusApp</code> for something that implements the <code>Html</code> trait, which we imported earlier. This is Sycamore's way of expressing that this function can either return something designed for the browser, or for the engine. Specifically, the engine uses <code>SsrNode</code> (server-side rendering), and the browser uses <code>DomNode</code>/<code>HydrateNode</code>. Don't worry though, you don't need to understand these distinctions just yet.</p>
<p>The body of the function is where the magic happens: we define a new <code>PerseusApp</code> with our one template and some error pages. The template is called <code>index</code>, which is a special name that means it will be hosted at the index of our site --- it will be the landing page. The code for that template is a <code>view! { .. }</code>, which comes from Sycamore, and it's how we write things that the user can see. If you've used HTML before, this is the Rust version of that. It might look a bit daunting at first, but most people tend to warm to it fairly well after using it a little.</p>
<p>All this <code>view! { .. }</code> defines is a <code>p</code>, which is equivalent to the HTML <code>&lt;p&gt;&lt;/p&gt;</code>, a paragraph element. This is where we can put text for our site. The contents are the universal phrase, <code>Hello World!</code>.</p>
<p>You might be scratching your head about that <code>cx</code> though. Understandable. This is the <em>reactive scope</em> of the view, which is something complicated that you would need to understand much more about if you were using normal Sycamore. In Perseus, all you really need to know for the basics is that this is a thing that you need to give to every <code>view! { .. }</code>, and that your templates always take it as an argument. If you want to know what this actually does, you can read more about it <a href="https://sycamore-rs.netlify.app/docs/basics/reactivity">here</a>.</p>
<p>The last thing to note is the <code>ErrorPages</code>, which are an innovation of Perseus that force you to write fallback pages for situations like the user going to a page that doesn't exist (the infamous 404 error). You could leave these out in development, but when you go to production, Perseus will scream at you. The error pages we've defined here are dead simple: we're just using the universal fallback provided to <code>ErrorPages::new()</code>, which is used for everything, unless you provide specific error pages for errors like 404, 500, etc. This fallback page is told the URL the error occurred on, the HTTP status code, and the error itself.</p>
</details>
<p>With that all out of the way, add the following to <code>.gitignore</code>:</p>
<pre><code class="language-gitignore">dist/
</code></pre>
<p>That just tells Git not to pay any attention to the build artifacts that Perseus is about to create. Now run this command:</p>
<pre><code class="language-sh">perseus serve -w
</code></pre>
<p>Because this is the first time building your app, Cargo has to pull in a whole lot of stuff behind the scenes, so now would be a good time to fix yourself a beverage. Once it's done, you can see your app at <a href="http://localhost:8080">http://localhost:8080</a>, and you should be greeted pleasantly by your app! If you want to check out the error pages, go to <a href="http://localhost:8080/blah">http://localhost:8080/blah</a>, or any other page that doesn't exist.</p>
<p>Now, try updating that <code>Hello World!</code> message to be a little more like the first of its kind: <code>Hello, world!</code> Once you save the file, the CLI will immediately get to work rebuilding your app, and your browser will reload automatically when it's done!</p>
<p><em>Note: if you're finding the build process really slow, or if you're on older hardware, you should try switching to Rust's <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#rustup-and-the-role-of-rust-nightly">nightly channel</a> for a faster compiler experience.</em></p>
<p>Now stop that command with <code>Ctrl+C</code> and run <code>perseus deploy</code> instead. This will take a very long time, but it will produce a <code>pkg/</code> directory that you could put on a real-world server, and it would be completely ready to serve your brand-new app! Because this app is so simple, you could even use <code>perseus deploy -e</code> instead to just produce a bunch of flat files that you could host from anywhere without needing a proper server.</p>
<p>All this has just scratched the surface of what's possible with Perseus, and there's so much more to learn! The next big things are about understanding some of the core principles behind Perseus, which should help you to understand why any of what you just did actually worked.</p>
</div></main></div><div data-hk="2.19" class="row-start-2"><footer data-hk="7.0" class="w-full flex justify-center py-5 bg-black text-white"><p data-hk="7.1" class="mx-5 text-center"><span data-hk="7.2">Â© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> 2021-2022, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer></div></div></div></main><!----><script data-hk="0.0" src=".perseus/static/prism.js" defer=""></script><script data-hk="0.1">window.Prism.highlightAll();</script></div></body></html>